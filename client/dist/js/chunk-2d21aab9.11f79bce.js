(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21aab9"],{bd01:function(e,s,t){"use strict";t.r(s);var r=function(){var e=this,s=e._self._c;return s("div",{staticClass:"bgku"},[s("div",{staticClass:"row items-center"},[s("div",{staticClass:"col-11 col-md-3 fixed-center"},[s("div",{staticClass:"putihTrans formLogin shadow-5"},[s("br"),s("q-img",{attrs:{src:"img/LOGO.png"}}),s("hr"),s("br"),e.errorMessage?s("div",[s("div",{staticClass:"alertku shadow-2"},[s("strong",[e._v("Warning!")]),e._v(" "+e._s(e.errorMessage)+". ")]),s("br")]):e._e(),s("form",{on:{submit:function(s){return s.preventDefault(),e.btn_login()}}},[s("q-input",{staticClass:"bg-white",attrs:{outlined:"",square:"",dense:!0,placeholder:"Username"},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"account_circle"}})]},proxy:!0}]),model:{value:e.user.username,callback:function(s){e.$set(e.user,"username",s)},expression:"user.username"}}),s("br"),s("q-input",{staticClass:"bg-white",attrs:{outlined:"",square:"",dense:!0,placeholder:"Password",type:"password"},scopedSlots:e._u([{key:"prepend",fn:function(){return[s("q-icon",{attrs:{name:"vpn_key"}})]},proxy:!0}]),model:{value:e.user.password,callback:function(s){e.$set(e.user,"password",s)},expression:"user.password"}}),s("br"),s("q-btn",{staticClass:"full-width",attrs:{type:"submit",push:"",color:"primary","icon-right":"send",label:"LOGIN"}})],1),s("br"),s("hr"),e._m(0)],1)])])])},n=[function(){var e=this,s=e._self._c;return s("div",{staticClass:"transAbu"},[s("span",{staticClass:"h_fotter_title"},[e._v("Copyright : Diskominfo & DKPSDM Kab. Konawe Selatan")])])}],o=(t("d9e2"),t("14d9"),t("f0b1")),a=t.n(o);t("2a19");const i=a.a.object().keys({username:a.a.string().regex(/^[a-zA-Z0-9_]*$/).min(3).max(13).required(),password:a.a.string().min(6).required()});var u={name:"monev_login",data:function(){return{errorMessage:"",user:{username:"",password:""},url:{LOGIN_URL:this.$store.state.url.URL_APP+"auth/login"}}},watch:{user:{handler(){this.errorMessage=""},deep:!0}},methods:{btn_login:function(){if(console.log("LOGIN DIPANGGIL"),this.errorMessage="",this.validUser()){this.$store.commit("shoWLoading");const e={username:this.user.username,password:this.user.password};fetch(this.url.LOGIN_URL,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then(e=>e.ok?e.json():e.json().then(e=>{throw new Error(e.message)})).then(e=>{console.log("============================="),localStorage.token=e.token,localStorage.profile=JSON.stringify(e.profile),setTimeout(()=>{this.$store.commit("hideLoading"),this.$router.push("/lapHarian")},1e3)}).catch(e=>{setTimeout(()=>{this.$store.commit("hideLoading"),this.errorMessage=e.message},1e3)})}},validUser:function(){const e=a.a.validate(this.user,i);return null===e.error||(e.error.message.includes("username")?this.errorMessage="Username tidak valid":this.errorMessage="Username tidak valid2",!1)}},mounted:function(){}},c=u,l=t("2877"),d=t("fe09"),p=Object(l["a"])(c,r,n,!1,null,null,null);s["default"]=p.exports;p.options.components=Object.assign(Object.create(p.options.components||null),p.options.components||{},{QCard:d["e"],QImg:d["p"],QCardSection:d["g"],QInput:d["q"],QIcon:d["o"],QBtn:d["c"]})}}]);
//# sourceMappingURL=chunk-2d21aab9.11f79bce.js.map