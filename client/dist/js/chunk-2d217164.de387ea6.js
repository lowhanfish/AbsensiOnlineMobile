(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d217164"],{c4da:function(t,a,s){"use strict";s.r(a);var i=function(){var t=this,a=t._self._c;return a("div",{staticClass:"about",staticStyle:{padding:"15px"}},[a("q-card",{staticClass:"my-card",attrs:{bordered:""}},[a("q-card-section",{staticClass:"bg-primary text-white"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-6"},[a("div",{staticClass:"text-h6 h_titleHead"},[t._v("Verifikasi Lokasi Absen")]),a("div",{staticClass:"text-subtitle2"},[t._v("Verikasi Lokasi")])]),a("div",{staticClass:"col-12 col-md-2"}),a("div",{staticClass:"col-12 col-md-4"},[a("div",{staticClass:"row"},[a("q-input",{staticClass:"bg-white",staticStyle:{width:"90%"},attrs:{outlined:"",square:"",dense:!0},on:{keyup:function(a){return t.cari_data()}},model:{value:t.cari_value,callback:function(a){t.cari_value=a},expression:"cari_value"}}),a("q-btn",{staticClass:"bg-light-blue-10",staticStyle:{width:"10%"},attrs:{glossy:"",dense:"",flat:"",icon:"add"},on:{click:function(a){t.mdl_add=!0}}},[a("q-tooltip",{attrs:{"content-class":"bg-light-blue-10","content-style":"font-size: 13px"}},[t._v(" Click untuk menambah data ")])],1)],1)])])]),a("q-separator",{attrs:{dark:"",inset:""}}),a("q-card-section",[a("div",{staticClass:"tbl_responsive"},[a("table",{attrs:{width:"100%"}},[a("tr",{staticClass:"h_table_head bg-blue-2"},[a("th",{staticClass:"text-center",attrs:{width:"5%"}},[t._v("No")]),a("th",{attrs:{width:"20%"}},[t._v("Nama/NIP")]),a("th",{attrs:{width:"25%"}},[t._v("Instansi")]),a("th",{attrs:{width:"28%"}},[t._v("Uraian/Kategori")]),a("th",{attrs:{width:"12%"}})]),t._l(t.list_data,(function(s,i){return a("tr",{key:s.id,class:"h_table_body "+t.indicatorColor(s.status).bg},[a("td",{staticClass:"text-center"},[t._v(t._s(i+1)+".")]),a("td",[t._v(" "+t._s(s.biodata_nama)+" "),a("br"),a("span",{staticClass:"h_nip"},[t._v(t._s(s.biodata_nip))])]),a("td",[t._v(t._s(s.unit_kerja_unit_kerja))]),a("td",[t._v(" "+t._s(s.uraian)+" "),a("br"),a("span",{staticClass:"h_nip"},[t._v("("+t._s(s.jeniskategorilokasi_uraian)+")")])]),a("td",{staticClass:"text-center"},[a("q-btn-group",[a("q-btn",{staticClass:"tbl_btn",attrs:{glossy:"",color:"blue",icon:"place",disabled:t.indicatorColor(s.status).status},on:{click:function(a){t.mdl_maps=!0,t.selectData(s)}}},[a("q-tooltip",{attrs:{"content-class":"bg-blue-9","content-style":"font-size: 13px"}},[t._v(" Click untuk melihat Maps ")])],1),a("q-btn",{staticClass:"tbl_btn",attrs:{glossy:"",color:"light-green-8",icon:"check"},on:{click:function(a){t.selectData(s),t.setujui()}}},[a("q-tooltip",{attrs:{"content-class":"bg-orange-9","content-style":"font-size: 13px"}},[t._v(" Setujui Usulan ini ")])],1),a("q-btn",{staticClass:"tbl_btn",attrs:{glossy:"",color:"negative",icon:"block"},on:{click:function(a){t.mdl_hapus=!0,t.selectData(s)}}},[a("q-tooltip",{attrs:{"content-class":"bg-red","content-style":"font-size: 13px"}},[t._v(" Click untuk mengembalikan usulan ini ")])],1)],1)],1)])}))],2)]),a("hr",{staticClass:"hrpagin"}),a("br"),a("div",{staticClass:"text-center"},[a("q-btn",{staticClass:"paginate_btn",attrs:{glossy:"",color:"orange",icon:"skip_previous"},on:{click:t.btn_prev}}),a("span",{staticClass:"h_panation"},[t._v("  "+t._s(t.page_first)+" - "+t._s(t.page_last)+"  ")]),a("q-btn",{staticClass:"paginate_btn",attrs:{glossy:"",color:"orange",icon:"skip_next"},on:{click:t.btn_next}})],1),a("br")])],1),a("q-dialog",{attrs:{persistent:""},model:{value:t.mdl_hapus,callback:function(a){t.mdl_hapus=a},expression:"mdl_hapus"}},[a("q-card",{staticClass:"mdl-md"},[a("q-card-section",{staticClass:"bg-red-5"},[a("div",{staticClass:"text-h6 h_modalhead"},[t._v("Komentar Pengembalian")])]),a("q-card-section",{staticClass:"q-pt-none"},[a("br"),a("q-input",{attrs:{outlined:"",hint:"Tulis alasan penolakan",type:"textarea"},model:{value:t.form.keterangan,callback:function(a){t.$set(t.form,"keterangan",a)},expression:"form.keterangan"}})],1),a("q-card-actions",{staticClass:"bg-grey-4 mdl-footer",attrs:{align:"right"}},[a("q-btn",{attrs:{color:"primary",label:"Simpan"},on:{click:function(a){return t.kembalikan()}}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Batal",color:"negative"}})],1)],1)],1),a("q-dialog",{attrs:{persistent:""},model:{value:t.mdl_chat,callback:function(a){t.mdl_chat=a},expression:"mdl_chat"}},[a("q-card",{staticClass:"mdl-md"},[a("q-card-section",{staticClass:"bg-light-green-8"},[a("div",{staticClass:"text-h6 h_modalhead"},[t._v("Komentar Keterangan")])]),a("q-card-section",{staticClass:"q-pt-none"},[a("div",{staticClass:"q-pa-md row justify-center"},[a("div",{staticStyle:{width:"100%","max-width":"90%"}},[a("q-chat-message",{attrs:{name:"me",avatar:"https://cdn.quasar.dev/img/avatar1.jpg",text:["hey, how are you?"],sent:""}}),a("q-chat-message",{attrs:{name:"Jane",avatar:"https://cdn.quasar.dev/img/avatar2.jpg",text:["doing fine, how r you?"]}})],1)]),a("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file"}}),a("q-input",{attrs:{rounded:"",outlined:"",hint:"Tulis Pesan"},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"attach_file"},on:{click:function(a){return t.$refs.file.click()}}})]},proxy:!0}])})],1),a("q-card-actions",{staticClass:"bg-grey-4 mdl-footer",attrs:{align:"right"}},[a("q-btn",{attrs:{loading:t.btn_add,color:"primary",label:"Simpan"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Batal",color:"negative"}})],1)],1)],1),a("q-dialog",{attrs:{persistent:"","full-width":""},model:{value:t.mdl_maps,callback:function(a){t.mdl_maps=a},expression:"mdl_maps"}},[a("q-card",{staticClass:"mdl-md"},[a("q-card-section",{staticClass:"bg-primary"},[a("div",{staticClass:"text-h6 h_modalhead"},[t._v("Detil Lokasi")])]),a("q-card-section",{staticClass:"q-pt-none"},[a("br"),a("span",[a("b",[t._v("Keterangan : ")]),t._v(" "+t._s(t.form.keterangan)+" ")]),a("br"),a("br"),a("GmapMap",{staticStyle:{width:"100%",height:"612px",top:"0px",left:"0px"},attrs:{center:{lat:t.form.lat,lng:t.form.lng},zoom:18,"map-type-id":"roadmap"}},[a("GmapMarker",{attrs:{position:{lat:t.form.lat,lng:t.form.lng},clickable:!0,title:"Lokasi"},on:{click:function(a){t.mdl_img=!0}}},[a("GmapCircle",{attrs:{center:{lat:t.form.lat,lng:t.form.lng},radius:t.parseFloatku(t.form.rad),visible:!0,options:{strokeColor:"orange",strokeWeight:.1,fillColor:"orange",fillOpacity:.4,borderColor:"green"}}})],1)],1)],1),a("q-card-actions",{staticClass:"bg-grey-4 mdl-footer",attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Kembali",color:"negative"}})],1)],1)],1),a("q-dialog",{attrs:{persistent:""},model:{value:t.mdl_img,callback:function(a){t.mdl_img=a},expression:"mdl_img"}},[a("q-card",{staticClass:"mdl-md"},[a("q-card-section",{staticClass:"bg-primary"},[a("div",{staticClass:"text-h6 h_modalhead"},[t._v(t._s(t.form.uraian))])]),a("q-card-section",{staticClass:"q-pt-none"},[a("br"),a("q-img",{attrs:{src:t.$store.state.url.URL_APP+"uploads/"+t.form.file},scopedSlots:t._u([{key:"loading",fn:function(){return[a("div",{staticClass:"text-yellow"},[a("q-spinner-ios"),a("div",{staticClass:"q-mt-md"},[t._v("Loading...")])],1)]},proxy:!0}])})],1),a("q-card-actions",{staticClass:"bg-grey-4 mdl-footer",attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Kembali",color:"negative"}})],1)],1)],1)],1)},e=[],n=s("7daa"),o=s.n(n),r={data(){return{form:{id:"",uraian:"",jeniskategorilokasi:"",lat:"",lng:"",rad:100,keterangan:"",file:null,file_old:"",unit_kerja:"",status:0,verify_at:"",verifikator_nama:"",verifikator_gelar_depan:"",verifikator_gelar_belakang:""},list_data:[],page_first:1,page_last:0,cari_value:"",cek_load_data:!0,mdl_add:!1,mdl_edit:!1,mdl_hapus:!1,mdl_chat:!1,mdl_maps:!1,btn_add:!1,mdl_maps_tambah:!1,mdl_img:!1,UMUM:o.a}},methods:{getView:function(){this.$store.commit("shoWLoading"),fetch(this.$store.state.url.URL_VerifikasiLokasi+"view",{method:"POST",headers:{"content-type":"application/json",authorization:"kikensbatara "+localStorage.token},body:JSON.stringify({data_ke:this.page_first,cari_value:this.cari_value})}).then(t=>t.json()).then(t=>{this.list_data=t.data,this.page_last=t.jml_data,this.$store.commit("hideLoading"),console.log(t)})},setujui:async function(){await this.UMUM.confirmx("anda akan mengonfirmasi usulan ini?"),fetch(this.$store.state.url.URL_VerifikasiLokasi+"setujui",{method:"POST",headers:{"content-type":"application/json",authorization:"kikensbatara "+localStorage.token},body:JSON.stringify(this.form)}).then(t=>{this.Notify("Sukses mengonfirmasi Usulan","negative","check_circle_outline"),this.getView()})},kembalikan:async function(){fetch(this.$store.state.url.URL_VerifikasiLokasi+"kembalikan",{method:"POST",headers:{"content-type":"application/json",authorization:"kikensbatara "+localStorage.token},body:JSON.stringify(this.form)}).then(t=>{this.Notify("Sukses mengembalikan usulan","negative","check_circle_outline"),this.getView()})},selectData:function(t){this.form.id=t.id,this.form.uraian=t.uraian,this.form.jeniskategorilokasi=t.jeniskategorilokasi,this.form.lat=t.lat,this.form.lng=t.lng,this.form.rad=t.rad,this.form.keterangan=t.keterangan,this.form.file=t.file,this.form.file_old=t.file,this.form.unit_kerja=t.unit_kerja,this.form.status=t.status,this.form.verifikator_nama=t.verifikator_nama,this.form.verifikator_gelar_depan=t.verifikator_gelar_depan,this.form.verifikator_gelar_belakang=t.verifikator_gelar_belakang,this.form.verify_at=t.verify_at},clearCoordinate(){this.form.lat="",this.form.lng=""},getCoordinate(){this.$getLocation().then(t=>{this.form.lat=t.lat,this.form.lng=t.lng})},updateCoordinates(t){this.form.lat=t.latLng.lat(),this.form.lng=t.latLng.lng()},parseFloatku(t){return parseFloat(t)},Notify:function(t,a,s){this.$q.notify({message:t,color:a,icon:s,position:"top",timeout:500})},btn_prev:function(){this.cek_load_data=!0,this.page_first>1?this.page_first--:this.page_first=1,this.getView()},btn_next:function(){this.page_first>=this.page_last?(this.page_first,this.page_last):this.page_first++,this.getView()},cari_data:function(){this.page_first=1,this.getView()},indicatorColor:function(t){return 0==t?{bg:"bg-orange-2",status:!1}:1==t?{bg:"bg-blue-1",status:!1}:2==t?{bg:"bg-red-2",status:!0}:void 0}},mounted(){this.getView(),this.$getLocation().then(t=>{this.form.lat=t.lat,this.form.lng=t.lng,this.$store.state.coordinat.lat=t.lat,this.$store.state.coordinat.lng=t.lng}),this.$store.commit("listJeniskategorilokasi"),this.$store.commit("getStorage"),this.form.unit_kerja=this.$store.state.unit_kerja}},l=r,c=s("2877"),d=s("fe09"),g=Object(c["a"])(l,i,e,!1,null,null,null);a["default"]=g.exports;g.options.components=Object.assign(Object.create(g.options.components||null),g.options.components||{},{QCard:d["e"],QCardSection:d["g"],QInput:d["q"],QBtn:d["c"],QTooltip:d["F"],QSeparator:d["B"],QBtnGroup:d["d"],QDialog:d["j"],QCardActions:d["f"],QChatMessage:d["h"],QIcon:d["o"],QImg:d["p"],QSpinnerIos:d["C"]}),g.options.directives=Object.assign(Object.create(g.options.directives||null),g.options.directives||{},{ClosePopup:d["a"]})}}]);
//# sourceMappingURL=chunk-2d217164.de387ea6.js.map