{"remainingRequest":"/Users/dinaskominfo/kiken/Project/ReactNative/AbsensiOnlineMobile/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/dinaskominfo/kiken/Project/ReactNative/AbsensiOnlineMobile/client/src/views/auth/login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/dinaskominfo/kiken/Project/ReactNative/AbsensiOnlineMobile/client/src/views/auth/login.vue","mtime":1747403491729},{"path":"/Users/dinaskominfo/kiken/Project/ReactNative/AbsensiOnlineMobile/client/node_modules/cache-loader/dist/cjs.js","mtime":1747403545108},{"path":"/Users/dinaskominfo/kiken/Project/ReactNative/AbsensiOnlineMobile/client/node_modules/babel-loader/lib/index.js","mtime":1747403545403},{"path":"/Users/dinaskominfo/kiken/Project/ReactNative/AbsensiOnlineMobile/client/node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js","mtime":1747403545618},{"path":"/Users/dinaskominfo/kiken/Project/ReactNative/AbsensiOnlineMobile/client/node_modules/cache-loader/dist/cjs.js","mtime":1747403545108},{"path":"/Users/dinaskominfo/kiken/Project/ReactNative/AbsensiOnlineMobile/client/node_modules/vue-loader/lib/index.js","mtime":1747403545475}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgovLyBjb25zdCBBRERfVVJMID0gVVJMX0FQUCArICJhcGkvdjEvcmluY2lhbl9vYnllay8iOwoKICBpbXBvcnQgSm9pIGZyb20gImpvaSI7CiAgY29uc3Qgc2NoZW1hID0gSm9pLm9iamVjdCgpLmtleXMoewogICAgdXNlcm5hbWU6IEpvaS5zdHJpbmcoKS5yZWdleCgvXlthLXpBLVowLTlfXSokLykubWluKDMpLm1heCgxMykucmVxdWlyZWQoKSwKICAgIHBhc3N3b3JkOiBKb2kuc3RyaW5nKCkubWluKDYpLnJlcXVpcmVkKCksCiAgfSk7CgogIGltcG9ydCB7IE5vdGlmeSAgfSBmcm9tICdxdWFzYXInCgogIGV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJtb25ldl9sb2dpbiIsCiAgICBkYXRhIDogZnVuY3Rpb24oKXsKICAgICAgcmV0dXJuIHsKCiAgICAgICAgICBlcnJvck1lc3NhZ2U6ICcnLAogICAgICAgICAgdXNlciA6IHsKICAgICAgICAgICAgdXNlcm5hbWUgOiAiIiwKICAgICAgICAgICAgcGFzc3dvcmQgOiAiIgogICAgICAgICAgfSwKCiAgICAgICAgICB1cmwgOiB7CiAgICAgICAgICAgIExPR0lOX1VSTCA6IHRoaXMuJHN0b3JlLnN0YXRlLnVybC5VUkxfQVBQICsgImF1dGgvbG9naW4iLAogICAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgd2F0Y2g6IHsKICAgICAgdXNlcjogewogICAgICAgICAgaGFuZGxlcigpIHsKICAgICAgICAgICAgICB0aGlzLmVycm9yTWVzc2FnZSA9ICIiOwogICAgICAgICAgfSwKICAgICAgICAgIGRlZXA6IHRydWUKICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgLy8gZ29fcmVnaXN0ZXIgOiBmdW5jdGlvbigpewogICAgICAvLyAgIGFsZXJ0KEFwcC5kYXRhKCkuc2Vzc2VlZSk7CiAgICAgIC8vICAgdGhpcy5kaXNwbGF5ZWQgPSAnYmxvY2snOwogICAgICAvLyB9LAogICAgICBidG5fbG9naW4gOiBmdW5jdGlvbigpewoKICAgICAgICBjb25zb2xlLmxvZygiTE9HSU4gRElQQU5HR0lMIikKCiAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2UgPSAnJzsKICAgICAgICBpZih0aGlzLnZhbGlkVXNlcigpKXsKICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgic2hvV0xvYWRpbmciKTsKICAgICAgICAgIC8vIHRoaXMuJHEubm90aWZ5KCJoaSIpOwoKICAgICAgICAgIC8vIHRoaXMuJHN0b3JlLmNvbW1pdCgic2hvV05vdGlmeSIsICdLaWtlbicsICdwcmltYXJ5JywgJ3RpbWVyJyk7CiAgICAgICAgICBjb25zdCBib2R5ID0gewogICAgICAgICAgICB1c2VybmFtZSA6IHRoaXMudXNlci51c2VybmFtZSwKICAgICAgICAgICAgcGFzc3dvcmQgOiB0aGlzLnVzZXIucGFzc3dvcmQKICAgICAgICAgIH0KICAgICAgICAgIGZldGNoKHRoaXMudXJsLkxPR0lOX1VSTCwgewogICAgICAgICAgICBtZXRob2QgOiAnUE9TVCcsCiAgICAgICAgICAgIGhlYWRlcnMgOiB7CiAgICAgICAgICAgICAgJ2NvbnRlbnQtdHlwZScgOiAnYXBwbGljYXRpb24vanNvbicsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGJvZHkgOiBKU09OLnN0cmluZ2lmeShib2R5KSwKICAgICAgICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoInNob1dMb2FkaW5nIik7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKS50aGVuKGVycm9yID0+IHsKICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IubWVzc2FnZSk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzaG9XTG9hZGluZyIpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygiPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0iKTsKICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXN1bHQpOwogICAgICAgICAgICAgIC8vIG1lbnlpbXBhbiB0b2tlbiB5YW5nIHRlcmdlbmVyYXRlIGRhcmkgc2VydmVyCiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnRva2VuID0gcmVzdWx0LnRva2VuOwogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5wcm9maWxlID0gSlNPTi5zdHJpbmdpZnkocmVzdWx0LnByb2ZpbGUpOwogICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJoaWRlTG9hZGluZyIpCiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2xhcEhhcmlhbicpOwogICAgICAgICAgICAgICAgLy8gbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoImhpZGVMb2FkaW5nIikKICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZTsKICAgICAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICAgICAgfSk7OwogICAgICAgIH0KCgoKICAgICAgfSwKICAgICAgdmFsaWRVc2VyOiBmdW5jdGlvbigpewogICAgICAgIGNvbnN0IHJlc3VsdCA9IEpvaS52YWxpZGF0ZSh0aGlzLnVzZXIsIHNjaGVtYSk7CiAgICAgICAgaWYgKHJlc3VsdC5lcnJvciA9PT0gbnVsbCkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICAgIGlmIChyZXN1bHQuZXJyb3IubWVzc2FnZS5pbmNsdWRlcygidXNlcm5hbWUiKSkgewogICAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2UgPSAiVXNlcm5hbWUgdGlkYWsgdmFsaWQiOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmVycm9yTWVzc2FnZSA9ICJVc2VybmFtZSB0aWRhayB2YWxpZDIiOwogICAgICAgIH0KICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0sCiAgICB9LAogICAgbW91bnRlZCA6IGZ1bmN0aW9uKCl7CgogICAgICAKICAgICAgCgogICAgfSwKICB9Owo="},{"version":3,"sources":["login.vue"],"names":[],"mappings":";;AA0GA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA","file":"login.vue","sourceRoot":"src/views/auth","sourcesContent":["<template>\n  <div class=\"bgku\">\n    <div class=\"row items-center\">\n      <div class=\"col-11 col-md-3 fixed-center\">\n        <!-- <q-card class=\"my-card bgku\">\n            <br>\n            <q-img src=\"img/LOGO.png\" />\n          <q-card-section>\n            <hr />\n            <br>\n            <form>\n              <q-input outlined square :dense=\"true\" class=\"bg-white\" placeholder=\"Username\">\n                <template v-slot:prepend>\n                  <q-icon name=\"account_circle\" />\n                </template>\n              </q-input>\n              <br />\n\n              <q-input\n                outlined\n                square\n                :dense=\"true\"\n                class=\"bg-white\"\n                placeholder=\"Password\"\n                type=\"password\"\n              >\n                <template v-slot:prepend>\n                  <q-icon name=\"vpn_key\" />\n                </template>\n              </q-input>\n              <br />\n\n              <q-btn push class=\"full-width\" color=\"primary\" icon-right=\"send\" label=\"LOGIN\" to=\"/\" />\n            </form>\n            <br>\n            <hr>\n            \n          </q-card-section>\n          <div class=\"transAbu\">\n              <span class=\"h_fotter_title\">Copyright : Diskominfo & DKPSDM Kab. Konawe Selatan</span>\n          </div>\n        </q-card> -->\n\n        <div class=\"putihTrans formLogin shadow-5\">\n          <br>\n            <q-img src=\"img/LOGO.png\" />\n            <hr />\n            <br>\n\n\n\n            <div v-if=\"errorMessage\">\n              <div  class=\"alertku shadow-2\">\n                <strong>Warning!</strong> {{ errorMessage }}.\n\n              </div>\n              <br>\n            </div>\n\n            <form @submit.prevent=\"btn_login()\">\n              <q-input v-model=\"user.username\" outlined square :dense=\"true\" class=\"bg-white\" placeholder=\"Username\">\n                <template v-slot:prepend>\n                  <q-icon name=\"account_circle\" />\n                </template>\n              </q-input>\n              <br />\n\n              <q-input\n                 v-model=\"user.password\"\n                outlined\n                square\n                :dense=\"true\"\n                class=\"bg-white\"\n                placeholder=\"Password\"\n                type=\"password\"\n              >\n                <template v-slot:prepend>\n                  <q-icon name=\"vpn_key\" />\n                </template>\n              </q-input>\n              <br />\n\n              <q-btn type=\"submit\" push class=\"full-width\" color=\"primary\" icon-right=\"send\" label=\"LOGIN\" />\n            </form>\n            <br>\n            <hr>\n            <div class=\"transAbu\">\n              <span class=\"h_fotter_title\">Copyright : Diskominfo & DKPSDM Kab. Konawe Selatan</span>\n            </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n\n\n\n\n\n\n\n\n\n<script>\n\n// const ADD_URL = URL_APP + \"api/v1/rincian_obyek/\";\n\n  import Joi from \"joi\";\n  const schema = Joi.object().keys({\n    username: Joi.string().regex(/^[a-zA-Z0-9_]*$/).min(3).max(13).required(),\n    password: Joi.string().min(6).required(),\n  });\n\n  import { Notify  } from 'quasar'\n\n  export default {\n    name: \"monev_login\",\n    data : function(){\n      return {\n\n          errorMessage: '',\n          user : {\n            username : \"\",\n            password : \"\"\n          },\n\n          url : {\n            LOGIN_URL : this.$store.state.url.URL_APP + \"auth/login\",\n          }\n      }\n    },\n    watch: {\n      user: {\n          handler() {\n              this.errorMessage = \"\";\n          },\n          deep: true\n      }\n    },\n    methods: {\n      // go_register : function(){\n      //   alert(App.data().sesseee);\n      //   this.displayed = 'block';\n      // },\n      btn_login : function(){\n\n        console.log(\"LOGIN DIPANGGIL\")\n\n        this.errorMessage = '';\n        if(this.validUser()){\n          this.$store.commit(\"shoWLoading\");\n          // this.$q.notify(\"hi\");\n\n          // this.$store.commit(\"shoWNotify\", 'Kiken', 'primary', 'timer');\n          const body = {\n            username : this.user.username,\n            password : this.user.password\n          }\n          fetch(this.url.LOGIN_URL, {\n            method : 'POST',\n            headers : {\n              'content-type' : 'application/json',\n            },\n            body : JSON.stringify(body),\n          }).then((response) => {\n            \n            // console.log(response);\n            \n                if (response.ok) {\n                    return response.json();\n                    this.$store.commit(\"shoWLoading\");\n                }\n\n                return response.json().then(error => {\n                    throw new Error(error.message);\n                    this.$store.commit(\"shoWLoading\");\n                });\n            })\n            .then((result) => {\n              console.log(\"=============================\");\n              // console.log(result);\n              // menyimpan token yang tergenerate dari server\n              localStorage.token = result.token;\n              localStorage.profile = JSON.stringify(result.profile);\n              setTimeout(() => {\n                this.$store.commit(\"hideLoading\")\n                this.$router.push('/lapHarian');\n                // location.reload();\n              }, 1000);\n            })\n            .catch(error => {\n              setTimeout(() => {\n                this.$store.commit(\"hideLoading\")\n                this.errorMessage = error.message;\n              }, 1000);\n            });;\n        }\n\n\n\n      },\n      validUser: function(){\n        const result = Joi.validate(this.user, schema);\n        if (result.error === null) {\n          return true;\n        }\n        if (result.error.message.includes(\"username\")) {\n          this.errorMessage = \"Username tidak valid\";\n        } else {\n          this.errorMessage = \"Username tidak valid2\";\n        }\n        return false;\n      },\n    },\n    mounted : function(){\n\n      \n      \n\n    },\n  };\n</script>"]}]}