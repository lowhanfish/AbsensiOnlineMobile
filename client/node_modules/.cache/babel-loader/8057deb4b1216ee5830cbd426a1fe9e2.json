{"remainingRequest":"/Users/dinaskominfo/kiken/Project/ReactNative/AbsensiOnlineMobile/client/node_modules/babel-loader/lib/index.js!/Users/dinaskominfo/kiken/Project/ReactNative/AbsensiOnlineMobile/client/node_modules/quasar/src/components/date/QDate.js","dependencies":[{"path":"/Users/dinaskominfo/kiken/Project/ReactNative/AbsensiOnlineMobile/client/node_modules/quasar/src/components/date/QDate.js","mtime":1747403546467},{"path":"/Users/dinaskominfo/kiken/Project/ReactNative/AbsensiOnlineMobile/client/babel.config.js","mtime":1747403491678},{"path":"/Users/dinaskominfo/kiken/Project/ReactNative/AbsensiOnlineMobile/client/node_modules/cache-loader/dist/cjs.js","mtime":1747403545108},{"path":"/Users/dinaskominfo/kiken/Project/ReactNative/AbsensiOnlineMobile/client/node_modules/babel-loader/lib/index.js","mtime":1747403545403}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnVuc2hpZnQuanMiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBRQnRuIGZyb20gJy4uL2J0bi9RQnRuLmpzJzsKaW1wb3J0IERhdGVUaW1lTWl4aW4gZnJvbSAnLi4vLi4vbWl4aW5zL2RhdGV0aW1lLmpzJzsKaW1wb3J0IHsgc2xvdCB9IGZyb20gJy4uLy4uL3V0aWxzL3ByaXZhdGUvc2xvdC5qcyc7CmltcG9ydCB7IGZvcm1hdERhdGUsIF9fc3BsaXREYXRlLCBnZXREYXRlRGlmZiB9IGZyb20gJy4uLy4uL3V0aWxzL2RhdGUuanMnOwppbXBvcnQgeyBwYWQgfSBmcm9tICcuLi8uLi91dGlscy9mb3JtYXQuanMnOwppbXBvcnQgeyBqYWxhYWxpTW9udGhMZW5ndGgsIHRvR3JlZ29yaWFuIH0gZnJvbSAnLi4vLi4vdXRpbHMvcHJpdmF0ZS9kYXRlLXBlcnNpYW4uanMnOwppbXBvcnQgY2FjaGUgZnJvbSAnLi4vLi4vdXRpbHMvcHJpdmF0ZS9jYWNoZS5qcyc7CmltcG9ydCB7IGlzT2JqZWN0IH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMuanMnOwpjb25zdCB5ZWFyc0ludGVydmFsID0gMjA7CmNvbnN0IHZpZXdzID0gWydDYWxlbmRhcicsICdZZWFycycsICdNb250aHMnXTsKY29uc3Qgdmlld0lzVmFsaWQgPSB2ID0+IHZpZXdzLmluY2x1ZGVzKHYpOwpjb25zdCB5ZWFyTW9udGhWYWxpZGF0b3IgPSB2ID0+IC9eLT9bXGRdK1wvWzAtMV1cZCQvLnRlc3Qodik7CmNvbnN0IGxpbmVTdHIgPSAnIFx1MjAxNCAnOwpleHBvcnQgZGVmYXVsdCBWdWUuZXh0ZW5kKHsKICBuYW1lOiAnUURhdGUnLAogIG1peGluczogW0RhdGVUaW1lTWl4aW5dLAogIHByb3BzOiB7CiAgICBtdWx0aXBsZTogQm9vbGVhbiwKICAgIHJhbmdlOiBCb29sZWFuLAogICAgdGl0bGU6IFN0cmluZywKICAgIHN1YnRpdGxlOiBTdHJpbmcsCiAgICBtYXNrOiB7CiAgICAgIC8vIHRoaXMgbWFzayBpcyBmb3JjZWQKICAgICAgLy8gd2hlbiB1c2luZyBwZXJzaWFuIGNhbGVuZGFyCiAgICAgIGRlZmF1bHQ6ICdZWVlZL01NL0REJwogICAgfSwKICAgIGRlZmF1bHRZZWFyTW9udGg6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICB2YWxpZGF0b3I6IHllYXJNb250aFZhbGlkYXRvcgogICAgfSwKICAgIHllYXJzSW5Nb250aFZpZXc6IEJvb2xlYW4sCiAgICBldmVudHM6IFtBcnJheSwgRnVuY3Rpb25dLAogICAgZXZlbnRDb2xvcjogW1N0cmluZywgRnVuY3Rpb25dLAogICAgZW1pdEltbWVkaWF0ZWx5OiBCb29sZWFuLAogICAgb3B0aW9uczogW0FycmF5LCBGdW5jdGlvbl0sCiAgICBuYXZpZ2F0aW9uTWluWWVhck1vbnRoOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgdmFsaWRhdG9yOiB5ZWFyTW9udGhWYWxpZGF0b3IKICAgIH0sCiAgICBuYXZpZ2F0aW9uTWF4WWVhck1vbnRoOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgdmFsaWRhdG9yOiB5ZWFyTW9udGhWYWxpZGF0b3IKICAgIH0sCiAgICBub1Vuc2V0OiBCb29sZWFuLAogICAgZmlyc3REYXlPZldlZWs6IFtTdHJpbmcsIE51bWJlcl0sCiAgICB0b2RheUJ0bjogQm9vbGVhbiwKICAgIG1pbmltYWw6IEJvb2xlYW4sCiAgICBkZWZhdWx0VmlldzogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdDYWxlbmRhcicsCiAgICAgIHZhbGlkYXRvcjogdmlld0lzVmFsaWQKICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICBjb25zdCBpbm5lck1hc2sgPSB0aGlzLl9fZ2V0TWFzaygpLAogICAgICBpbm5lckxvY2FsZSA9IHRoaXMuX19nZXRMb2NhbGUoKSwKICAgICAgdmlld01vZGVsID0gdGhpcy5fX2dldFZpZXdNb2RlbChpbm5lck1hc2ssIGlubmVyTG9jYWxlKSwKICAgICAgeWVhciA9IHZpZXdNb2RlbC55ZWFyLAogICAgICBkaXJlY3Rpb24gPSB0aGlzLiRxLmxhbmcucnRsID09PSB0cnVlID8gJ3JpZ2h0JyA6ICdsZWZ0JzsKICAgIHJldHVybiB7CiAgICAgIHZpZXc6IHRoaXMuZGVmYXVsdFZpZXcsCiAgICAgIG1vbnRoRGlyZWN0aW9uOiBkaXJlY3Rpb24sCiAgICAgIHllYXJEaXJlY3Rpb246IGRpcmVjdGlvbiwKICAgICAgc3RhcnRZZWFyOiB5ZWFyIC0geWVhciAlIHllYXJzSW50ZXJ2YWwgLSAoeWVhciA8IDAgPyB5ZWFyc0ludGVydmFsIDogMCksCiAgICAgIGVkaXRSYW5nZTogdm9pZCAwLAogICAgICBpbm5lck1hc2ssCiAgICAgIGlubmVyTG9jYWxlLAogICAgICB2aWV3TW9kZWwgLy8gbW9kZWwgb2YgY3VycmVudCBjYWxlbmRhciB2aWV3CiAgICB9OwogIH0sCgogIHdhdGNoOiB7CiAgICB2YWx1ZSh2KSB7CiAgICAgIGlmICh0aGlzLmxhc3RFbWl0VmFsdWUgPT09IHYpIHsKICAgICAgICB0aGlzLmxhc3RFbWl0VmFsdWUgPSAwOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnN0IHsKICAgICAgICAgIHllYXIsCiAgICAgICAgICBtb250aAogICAgICAgIH0gPSB0aGlzLl9fZ2V0Vmlld01vZGVsKHRoaXMuaW5uZXJNYXNrLCB0aGlzLmlubmVyTG9jYWxlKTsKICAgICAgICB0aGlzLl9fdXBkYXRlVmlld01vZGVsKHllYXIsIG1vbnRoKTsKICAgICAgfQogICAgfSwKICAgIHZpZXcoKSB7CiAgICAgIGlmICh0aGlzLiRyZWZzLmJsdXJUYXJnZXQgIT09IHZvaWQgMCAmJiB0aGlzLiRlbC5jb250YWlucyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KSA9PT0gdHJ1ZSkgewogICAgICAgIHRoaXMuJHJlZnMuYmx1clRhcmdldC5mb2N1cygpOwogICAgICB9CiAgICB9LAogICAgJ3ZpZXdNb2RlbC55ZWFyJyh5ZWFyKSB7CiAgICAgIHRoaXMuJGVtaXQoJ25hdmlnYXRpb24nLCB7CiAgICAgICAgeWVhciwKICAgICAgICBtb250aDogdGhpcy52aWV3TW9kZWwubW9udGgKICAgICAgfSk7CiAgICB9LAogICAgJ3ZpZXdNb2RlbC5tb250aCcobW9udGgpIHsKICAgICAgdGhpcy4kZW1pdCgnbmF2aWdhdGlvbicsIHsKICAgICAgICB5ZWFyOiB0aGlzLnZpZXdNb2RlbC55ZWFyLAogICAgICAgIG1vbnRoCiAgICAgIH0pOwogICAgfSwKICAgIGNvbXB1dGVkTWFzayh2YWwpIHsKICAgICAgdGhpcy5fX3VwZGF0ZVZhbHVlKHZhbCwgdGhpcy5pbm5lckxvY2FsZSwgJ21hc2snKTsKICAgICAgdGhpcy5pbm5lck1hc2sgPSB2YWw7CiAgICB9LAogICAgY29tcHV0ZWRMb2NhbGUodmFsKSB7CiAgICAgIHRoaXMuX191cGRhdGVWYWx1ZSh0aGlzLmlubmVyTWFzaywgdmFsLCAnbG9jYWxlJyk7CiAgICAgIHRoaXMuaW5uZXJMb2NhbGUgPSB2YWw7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgY2xhc3NlcygpIHsKICAgICAgY29uc3QgdHlwZSA9IHRoaXMubGFuZHNjYXBlID09PSB0cnVlID8gJ2xhbmRzY2FwZScgOiAncG9ydHJhaXQnOwogICAgICByZXR1cm4gYHEtZGF0ZSBxLWRhdGUtLSR7dHlwZX0gcS1kYXRlLS0ke3R5cGV9LSR7dGhpcy5taW5pbWFsID09PSB0cnVlID8gJ21pbmltYWwnIDogJ3N0YW5kYXJkJ31gICsgKHRoaXMuaXNEYXJrID09PSB0cnVlID8gJyBxLWRhdGUtLWRhcmsgcS1kYXJrJyA6ICcnKSArICh0aGlzLmJvcmRlcmVkID09PSB0cnVlID8gJyBxLWRhdGUtLWJvcmRlcmVkJyA6ICcnKSArICh0aGlzLnNxdWFyZSA9PT0gdHJ1ZSA/ICcgcS1kYXRlLS1zcXVhcmUgbm8tYm9yZGVyLXJhZGl1cycgOiAnJykgKyAodGhpcy5mbGF0ID09PSB0cnVlID8gJyBxLWRhdGUtLWZsYXQgbm8tc2hhZG93JyA6ICcnKSArICh0aGlzLmRpc2FibGUgPT09IHRydWUgPyAnIGRpc2FibGVkJyA6IHRoaXMucmVhZG9ubHkgPT09IHRydWUgPyAnIHEtZGF0ZS0tcmVhZG9ubHknIDogJycpOwogICAgfSwKICAgIGlzSW1tZWRpYXRlKCkgewogICAgICByZXR1cm4gdGhpcy5lbWl0SW1tZWRpYXRlbHkgPT09IHRydWUgJiYgdGhpcy5tdWx0aXBsZSAhPT0gdHJ1ZSAmJiB0aGlzLnJhbmdlICE9PSB0cnVlOwogICAgfSwKICAgIG5vcm1hbGl6ZWRNb2RlbCgpIHsKICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodGhpcy52YWx1ZSkgPT09IHRydWUgPyB0aGlzLnZhbHVlIDogdGhpcy52YWx1ZSAhPT0gbnVsbCAmJiB0aGlzLnZhbHVlICE9PSB2b2lkIDAgPyBbdGhpcy52YWx1ZV0gOiBbXTsKICAgIH0sCiAgICBkYXlzTW9kZWwoKSB7CiAgICAgIHJldHVybiB0aGlzLm5vcm1hbGl6ZWRNb2RlbC5maWx0ZXIoZGF0ZSA9PiB0eXBlb2YgZGF0ZSA9PT0gJ3N0cmluZycpLm1hcChkYXRlID0+IHRoaXMuX19kZWNvZGVTdHJpbmcoZGF0ZSwgdGhpcy5pbm5lck1hc2ssIHRoaXMuaW5uZXJMb2NhbGUpKS5maWx0ZXIoZGF0ZSA9PiBkYXRlLmRhdGVIYXNoICE9PSBudWxsICYmIGRhdGUuZGF5ICE9PSBudWxsICYmIGRhdGUubW9udGggIT09IG51bGwgJiYgZGF0ZS55ZWFyICE9PSBudWxsKTsKICAgIH0sCiAgICByYW5nZU1vZGVsKCkgewogICAgICBjb25zdCBmbiA9IGRhdGUgPT4gdGhpcy5fX2RlY29kZVN0cmluZyhkYXRlLCB0aGlzLmlubmVyTWFzaywgdGhpcy5pbm5lckxvY2FsZSk7CiAgICAgIHJldHVybiB0aGlzLm5vcm1hbGl6ZWRNb2RlbC5maWx0ZXIoZGF0ZSA9PiBpc09iamVjdChkYXRlKSA9PT0gdHJ1ZSAmJiBkYXRlLmZyb20gIT09IHZvaWQgMCAmJiBkYXRlLnRvICE9PSB2b2lkIDApLm1hcChyYW5nZSA9PiAoewogICAgICAgIGZyb206IGZuKHJhbmdlLmZyb20pLAogICAgICAgIHRvOiBmbihyYW5nZS50bykKICAgICAgfSkpLmZpbHRlcihyYW5nZSA9PiByYW5nZS5mcm9tLmRhdGVIYXNoICE9PSBudWxsICYmIHJhbmdlLnRvLmRhdGVIYXNoICE9PSBudWxsICYmIHJhbmdlLmZyb20uZGF0ZUhhc2ggPCByYW5nZS50by5kYXRlSGFzaCk7CiAgICB9LAogICAgZ2V0TmF0aXZlRGF0ZUZuKCkgewogICAgICByZXR1cm4gdGhpcy5jYWxlbmRhciAhPT0gJ3BlcnNpYW4nID8gbW9kZWwgPT4gbmV3IERhdGUobW9kZWwueWVhciwgbW9kZWwubW9udGggLSAxLCBtb2RlbC5kYXkpIDogbW9kZWwgPT4gewogICAgICAgIGNvbnN0IGdEYXRlID0gdG9HcmVnb3JpYW4obW9kZWwueWVhciwgbW9kZWwubW9udGgsIG1vZGVsLmRheSk7CiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGdEYXRlLmd5LCBnRGF0ZS5nbSAtIDEsIGdEYXRlLmdkKTsKICAgICAgfTsKICAgIH0sCiAgICBlbmNvZGVPYmplY3RGbigpIHsKICAgICAgcmV0dXJuIHRoaXMuY2FsZW5kYXIgPT09ICdwZXJzaWFuJyA/IHRoaXMuX19nZXREYXlIYXNoIDogKGRhdGUsIG1hc2ssIGxvY2FsZSkgPT4gZm9ybWF0RGF0ZShuZXcgRGF0ZShkYXRlLnllYXIsIGRhdGUubW9udGggLSAxLCBkYXRlLmRheSwgZGF0ZS5ob3VyLCBkYXRlLm1pbnV0ZSwgZGF0ZS5zZWNvbmQsIGRhdGUubWlsbGlzZWNvbmQpLCBtYXNrID09PSB2b2lkIDAgPyB0aGlzLmlubmVyTWFzayA6IG1hc2ssIGxvY2FsZSA9PT0gdm9pZCAwID8gdGhpcy5pbm5lckxvY2FsZSA6IGxvY2FsZSwgZGF0ZS55ZWFyLCBkYXRlLnRpbWV6b25lT2Zmc2V0KTsKICAgIH0sCiAgICBkYXlzSW5Nb2RlbCgpIHsKICAgICAgcmV0dXJuIHRoaXMuZGF5c01vZGVsLmxlbmd0aCArIHRoaXMucmFuZ2VNb2RlbC5yZWR1Y2UoKGFjYywgcmFuZ2UpID0+IGFjYyArIDEgKyBnZXREYXRlRGlmZih0aGlzLmdldE5hdGl2ZURhdGVGbihyYW5nZS50byksIHRoaXMuZ2V0TmF0aXZlRGF0ZUZuKHJhbmdlLmZyb20pKSwgMCk7CiAgICB9LAogICAgaGVhZGVyVGl0bGUoKSB7CiAgICAgIGlmICh0aGlzLnRpdGxlICE9PSB2b2lkIDAgJiYgdGhpcy50aXRsZSAhPT0gbnVsbCAmJiB0aGlzLnRpdGxlLmxlbmd0aCA+IDApIHsKICAgICAgICByZXR1cm4gdGhpcy50aXRsZTsKICAgICAgfQogICAgICBpZiAodGhpcy5lZGl0UmFuZ2UgIT09IHZvaWQgMCkgewogICAgICAgIGNvbnN0IG1vZGVsID0gdGhpcy5lZGl0UmFuZ2UuaW5pdDsKICAgICAgICBjb25zdCBkYXRlID0gdGhpcy5nZXROYXRpdmVEYXRlRm4obW9kZWwpOwogICAgICAgIHJldHVybiB0aGlzLmlubmVyTG9jYWxlLmRheXNTaG9ydFtkYXRlLmdldERheSgpXSArICcsICcgKyB0aGlzLmlubmVyTG9jYWxlLm1vbnRoc1Nob3J0W21vZGVsLm1vbnRoIC0gMV0gKyAnICcgKyBtb2RlbC5kYXkgKyBsaW5lU3RyICsgJz8nOwogICAgICB9CiAgICAgIGlmICh0aGlzLmRheXNJbk1vZGVsID09PSAwKSB7CiAgICAgICAgcmV0dXJuIGxpbmVTdHI7CiAgICAgIH0KICAgICAgaWYgKHRoaXMuZGF5c0luTW9kZWwgPiAxKSB7CiAgICAgICAgcmV0dXJuIGAke3RoaXMuZGF5c0luTW9kZWx9ICR7dGhpcy5pbm5lckxvY2FsZS5wbHVyYWxEYXl9YDsKICAgICAgfQogICAgICBjb25zdCBtb2RlbCA9IHRoaXMuZGF5c01vZGVsWzBdOwogICAgICBjb25zdCBkYXRlID0gdGhpcy5nZXROYXRpdmVEYXRlRm4obW9kZWwpOwogICAgICBpZiAoaXNOYU4oZGF0ZS52YWx1ZU9mKCkpID09PSB0cnVlKSB7CiAgICAgICAgcmV0dXJuIGxpbmVTdHI7CiAgICAgIH0KICAgICAgaWYgKHRoaXMuaW5uZXJMb2NhbGUuaGVhZGVyVGl0bGUgIT09IHZvaWQgMCkgewogICAgICAgIHJldHVybiB0aGlzLmlubmVyTG9jYWxlLmhlYWRlclRpdGxlKGRhdGUsIG1vZGVsKTsKICAgICAgfQogICAgICByZXR1cm4gdGhpcy5pbm5lckxvY2FsZS5kYXlzU2hvcnRbZGF0ZS5nZXREYXkoKV0gKyAnLCAnICsgdGhpcy5pbm5lckxvY2FsZS5tb250aHNTaG9ydFttb2RlbC5tb250aCAtIDFdICsgJyAnICsgbW9kZWwuZGF5OwogICAgfSwKICAgIGhlYWRlclN1YnRpdGxlKCkgewogICAgICBpZiAodGhpcy5zdWJ0aXRsZSAhPT0gdm9pZCAwICYmIHRoaXMuc3VidGl0bGUgIT09IG51bGwgJiYgdGhpcy5zdWJ0aXRsZS5sZW5ndGggPiAwKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuc3VidGl0bGU7CiAgICAgIH0KICAgICAgaWYgKHRoaXMuZGF5c0luTW9kZWwgPT09IDApIHsKICAgICAgICByZXR1cm4gbGluZVN0cjsKICAgICAgfQogICAgICBpZiAodGhpcy5kYXlzSW5Nb2RlbCA+IDEpIHsKICAgICAgICBjb25zdCBmcm9tID0gdGhpcy5taW5TZWxlY3RlZE1vZGVsOwogICAgICAgIGNvbnN0IHRvID0gdGhpcy5tYXhTZWxlY3RlZE1vZGVsOwogICAgICAgIGNvbnN0IG1vbnRoID0gdGhpcy5pbm5lckxvY2FsZS5tb250aHNTaG9ydDsKICAgICAgICByZXR1cm4gbW9udGhbZnJvbS5tb250aCAtIDFdICsgKGZyb20ueWVhciAhPT0gdG8ueWVhciA/ICcgJyArIGZyb20ueWVhciArIGxpbmVTdHIgKyBtb250aFt0by5tb250aCAtIDFdICsgJyAnIDogZnJvbS5tb250aCAhPT0gdG8ubW9udGggPyBsaW5lU3RyICsgbW9udGhbdG8ubW9udGggLSAxXSA6ICcnKSArICcgJyArIHRvLnllYXI7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMuZGF5c01vZGVsWzBdLnllYXI7CiAgICB9LAogICAgbWluU2VsZWN0ZWRNb2RlbCgpIHsKICAgICAgY29uc3QgbW9kZWwgPSB0aGlzLmRheXNNb2RlbC5jb25jYXQodGhpcy5yYW5nZU1vZGVsLm1hcChyYW5nZSA9PiByYW5nZS5mcm9tKSkuc29ydCgoYSwgYikgPT4gYS55ZWFyIC0gYi55ZWFyIHx8IGEubW9udGggLSBiLm1vbnRoKTsKICAgICAgcmV0dXJuIG1vZGVsWzBdOwogICAgfSwKICAgIG1heFNlbGVjdGVkTW9kZWwoKSB7CiAgICAgIGNvbnN0IG1vZGVsID0gdGhpcy5kYXlzTW9kZWwuY29uY2F0KHRoaXMucmFuZ2VNb2RlbC5tYXAocmFuZ2UgPT4gcmFuZ2UudG8pKS5zb3J0KChhLCBiKSA9PiBiLnllYXIgLSBhLnllYXIgfHwgYi5tb250aCAtIGEubW9udGgpOwogICAgICByZXR1cm4gbW9kZWxbMF07CiAgICB9LAogICAgZGF0ZUFycm93KCkgewogICAgICBjb25zdCB2YWwgPSBbdGhpcy4kcS5pY29uU2V0LmRhdGV0aW1lLmFycm93TGVmdCwgdGhpcy4kcS5pY29uU2V0LmRhdGV0aW1lLmFycm93UmlnaHRdOwogICAgICByZXR1cm4gdGhpcy4kcS5sYW5nLnJ0bCA9PT0gdHJ1ZSA/IHZhbC5yZXZlcnNlKCkgOiB2YWw7CiAgICB9LAogICAgY29tcHV0ZWRGaXJzdERheU9mV2VlaygpIHsKICAgICAgcmV0dXJuIHRoaXMuZmlyc3REYXlPZldlZWsgIT09IHZvaWQgMCA/IE51bWJlcih0aGlzLmZpcnN0RGF5T2ZXZWVrKSA6IHRoaXMuaW5uZXJMb2NhbGUuZmlyc3REYXlPZldlZWs7CiAgICB9LAogICAgZGF5c09mV2VlaygpIHsKICAgICAgY29uc3QgZGF5cyA9IHRoaXMuaW5uZXJMb2NhbGUuZGF5c1Nob3J0LAogICAgICAgIGZpcnN0ID0gdGhpcy5jb21wdXRlZEZpcnN0RGF5T2ZXZWVrOwogICAgICByZXR1cm4gZmlyc3QgPiAwID8gZGF5cy5zbGljZShmaXJzdCwgNykuY29uY2F0KGRheXMuc2xpY2UoMCwgZmlyc3QpKSA6IGRheXM7CiAgICB9LAogICAgZGF5c0luTW9udGgoKSB7CiAgICAgIGNvbnN0IGRhdGUgPSB0aGlzLnZpZXdNb2RlbDsKICAgICAgcmV0dXJuIHRoaXMuY2FsZW5kYXIgIT09ICdwZXJzaWFuJyA/IG5ldyBEYXRlKGRhdGUueWVhciwgZGF0ZS5tb250aCwgMCkuZ2V0RGF0ZSgpIDogamFsYWFsaU1vbnRoTGVuZ3RoKGRhdGUueWVhciwgZGF0ZS5tb250aCk7CiAgICB9LAogICAgdG9kYXkoKSB7CiAgICAgIHJldHVybiB0aGlzLl9fZ2V0Q3VycmVudERhdGUoKTsKICAgIH0sCiAgICBldnRDb2xvcigpIHsKICAgICAgcmV0dXJuIHR5cGVvZiB0aGlzLmV2ZW50Q29sb3IgPT09ICdmdW5jdGlvbicgPyB0aGlzLmV2ZW50Q29sb3IgOiAoKSA9PiB0aGlzLmV2ZW50Q29sb3I7CiAgICB9LAogICAgbWluTmF2KCkgewogICAgICBpZiAodGhpcy5uYXZpZ2F0aW9uTWluWWVhck1vbnRoICE9PSB2b2lkIDApIHsKICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5uYXZpZ2F0aW9uTWluWWVhck1vbnRoLnNwbGl0KCcvJyk7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHllYXI6IHBhcnNlSW50KGRhdGFbMF0sIDEwKSwKICAgICAgICAgIG1vbnRoOiBwYXJzZUludChkYXRhWzFdLCAxMCkKICAgICAgICB9OwogICAgICB9CiAgICB9LAogICAgbWF4TmF2KCkgewogICAgICBpZiAodGhpcy5uYXZpZ2F0aW9uTWF4WWVhck1vbnRoICE9PSB2b2lkIDApIHsKICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5uYXZpZ2F0aW9uTWF4WWVhck1vbnRoLnNwbGl0KCcvJyk7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHllYXI6IHBhcnNlSW50KGRhdGFbMF0sIDEwKSwKICAgICAgICAgIG1vbnRoOiBwYXJzZUludChkYXRhWzFdLCAxMCkKICAgICAgICB9OwogICAgICB9CiAgICB9LAogICAgbmF2Qm91bmRhcmllcygpIHsKICAgICAgY29uc3QgZGF0YSA9IHsKICAgICAgICBtb250aDogewogICAgICAgICAgcHJldjogdHJ1ZSwKICAgICAgICAgIG5leHQ6IHRydWUKICAgICAgICB9LAogICAgICAgIHllYXI6IHsKICAgICAgICAgIHByZXY6IHRydWUsCiAgICAgICAgICBuZXh0OiB0cnVlCiAgICAgICAgfQogICAgICB9OwogICAgICBpZiAodGhpcy5taW5OYXYgIT09IHZvaWQgMCAmJiB0aGlzLm1pbk5hdi55ZWFyID49IHRoaXMudmlld01vZGVsLnllYXIpIHsKICAgICAgICBkYXRhLnllYXIucHJldiA9IGZhbHNlOwogICAgICAgIGlmICh0aGlzLm1pbk5hdi55ZWFyID09PSB0aGlzLnZpZXdNb2RlbC55ZWFyICYmIHRoaXMubWluTmF2Lm1vbnRoID49IHRoaXMudmlld01vZGVsLm1vbnRoKSB7CiAgICAgICAgICBkYXRhLm1vbnRoLnByZXYgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKHRoaXMubWF4TmF2ICE9PSB2b2lkIDAgJiYgdGhpcy5tYXhOYXYueWVhciA8PSB0aGlzLnZpZXdNb2RlbC55ZWFyKSB7CiAgICAgICAgZGF0YS55ZWFyLm5leHQgPSBmYWxzZTsKICAgICAgICBpZiAodGhpcy5tYXhOYXYueWVhciA9PT0gdGhpcy52aWV3TW9kZWwueWVhciAmJiB0aGlzLm1heE5hdi5tb250aCA8PSB0aGlzLnZpZXdNb2RlbC5tb250aCkgewogICAgICAgICAgZGF0YS5tb250aC5uZXh0ID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBkYXRhOwogICAgfSwKICAgIGRheXNNYXAoKSB7CiAgICAgIGNvbnN0IG1hcCA9IHt9OwogICAgICB0aGlzLmRheXNNb2RlbC5mb3JFYWNoKGVudHJ5ID0+IHsKICAgICAgICBjb25zdCBoYXNoID0gdGhpcy5fX2dldE1vbnRoSGFzaChlbnRyeSk7CiAgICAgICAgaWYgKG1hcFtoYXNoXSA9PT0gdm9pZCAwKSB7CiAgICAgICAgICBtYXBbaGFzaF0gPSBbXTsKICAgICAgICB9CiAgICAgICAgbWFwW2hhc2hdLnB1c2goZW50cnkuZGF5KTsKICAgICAgfSk7CiAgICAgIHJldHVybiBtYXA7CiAgICB9LAogICAgcmFuZ2VNYXAoKSB7CiAgICAgIGNvbnN0IG1hcCA9IHt9OwogICAgICB0aGlzLnJhbmdlTW9kZWwuZm9yRWFjaChlbnRyeSA9PiB7CiAgICAgICAgY29uc3QgaGFzaEZyb20gPSB0aGlzLl9fZ2V0TW9udGhIYXNoKGVudHJ5LmZyb20pOwogICAgICAgIGNvbnN0IGhhc2hUbyA9IHRoaXMuX19nZXRNb250aEhhc2goZW50cnkudG8pOwogICAgICAgIGlmIChtYXBbaGFzaEZyb21dID09PSB2b2lkIDApIHsKICAgICAgICAgIG1hcFtoYXNoRnJvbV0gPSBbXTsKICAgICAgICB9CiAgICAgICAgbWFwW2hhc2hGcm9tXS5wdXNoKHsKICAgICAgICAgIGZyb206IGVudHJ5LmZyb20uZGF5LAogICAgICAgICAgdG86IGhhc2hGcm9tID09PSBoYXNoVG8gPyBlbnRyeS50by5kYXkgOiB2b2lkIDAsCiAgICAgICAgICByYW5nZTogZW50cnkKICAgICAgICB9KTsKICAgICAgICBpZiAoaGFzaEZyb20gPCBoYXNoVG8pIHsKICAgICAgICAgIGxldCBoYXNoOwogICAgICAgICAgY29uc3QgewogICAgICAgICAgICB5ZWFyLAogICAgICAgICAgICBtb250aAogICAgICAgICAgfSA9IGVudHJ5LmZyb207CiAgICAgICAgICBjb25zdCBjdXIgPSBtb250aCA8IDEyID8gewogICAgICAgICAgICB5ZWFyLAogICAgICAgICAgICBtb250aDogbW9udGggKyAxCiAgICAgICAgICB9IDogewogICAgICAgICAgICB5ZWFyOiB5ZWFyICsgMSwKICAgICAgICAgICAgbW9udGg6IDEKICAgICAgICAgIH07CiAgICAgICAgICB3aGlsZSAoKGhhc2ggPSB0aGlzLl9fZ2V0TW9udGhIYXNoKGN1cikpIDw9IGhhc2hUbykgewogICAgICAgICAgICBpZiAobWFwW2hhc2hdID09PSB2b2lkIDApIHsKICAgICAgICAgICAgICBtYXBbaGFzaF0gPSBbXTsKICAgICAgICAgICAgfQogICAgICAgICAgICBtYXBbaGFzaF0ucHVzaCh7CiAgICAgICAgICAgICAgZnJvbTogdm9pZCAwLAogICAgICAgICAgICAgIHRvOiBoYXNoID09PSBoYXNoVG8gPyBlbnRyeS50by5kYXkgOiB2b2lkIDAsCiAgICAgICAgICAgICAgcmFuZ2U6IGVudHJ5CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjdXIubW9udGgrKzsKICAgICAgICAgICAgaWYgKGN1ci5tb250aCA+IDEyKSB7CiAgICAgICAgICAgICAgY3VyLnllYXIrKzsKICAgICAgICAgICAgICBjdXIubW9udGggPSAxOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIG1hcDsKICAgIH0sCiAgICByYW5nZVZpZXcoKSB7CiAgICAgIGlmICh0aGlzLmVkaXRSYW5nZSA9PT0gdm9pZCAwKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGNvbnN0IHsKICAgICAgICBpbml0LAogICAgICAgIGluaXRIYXNoLAogICAgICAgIGZpbmFsLAogICAgICAgIGZpbmFsSGFzaAogICAgICB9ID0gdGhpcy5lZGl0UmFuZ2U7CiAgICAgIGNvbnN0IFtmcm9tLCB0b10gPSBpbml0SGFzaCA8PSBmaW5hbEhhc2ggPyBbaW5pdCwgZmluYWxdIDogW2ZpbmFsLCBpbml0XTsKICAgICAgY29uc3QgZnJvbUhhc2ggPSB0aGlzLl9fZ2V0TW9udGhIYXNoKGZyb20pOwogICAgICBjb25zdCB0b0hhc2ggPSB0aGlzLl9fZ2V0TW9udGhIYXNoKHRvKTsKICAgICAgaWYgKGZyb21IYXNoICE9PSB0aGlzLnZpZXdNb250aEhhc2ggJiYgdG9IYXNoICE9PSB0aGlzLnZpZXdNb250aEhhc2gpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgY29uc3QgdmlldyA9IHt9OwogICAgICBpZiAoZnJvbUhhc2ggPT09IHRoaXMudmlld01vbnRoSGFzaCkgewogICAgICAgIHZpZXcuZnJvbSA9IGZyb20uZGF5OwogICAgICAgIHZpZXcuaW5jbHVkZUZyb20gPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHZpZXcuZnJvbSA9IDE7CiAgICAgIH0KICAgICAgaWYgKHRvSGFzaCA9PT0gdGhpcy52aWV3TW9udGhIYXNoKSB7CiAgICAgICAgdmlldy50byA9IHRvLmRheTsKICAgICAgICB2aWV3LmluY2x1ZGVUbyA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmlldy50byA9IHRoaXMuZGF5c0luTW9udGg7CiAgICAgIH0KICAgICAgcmV0dXJuIHZpZXc7CiAgICB9LAogICAgdmlld01vbnRoSGFzaCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX19nZXRNb250aEhhc2godGhpcy52aWV3TW9kZWwpOwogICAgfSwKICAgIHNlbGVjdGlvbkRheXNNYXAoKSB7CiAgICAgIGNvbnN0IG1hcCA9IHt9OwogICAgICBpZiAodGhpcy5vcHRpb25zID09PSB2b2lkIDApIHsKICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSB0aGlzLmRheXNJbk1vbnRoOyBpKyspIHsKICAgICAgICAgIG1hcFtpXSA9IHRydWU7CiAgICAgICAgfQogICAgICAgIHJldHVybiBtYXA7CiAgICAgIH0KICAgICAgY29uc3QgZm4gPSB0eXBlb2YgdGhpcy5vcHRpb25zID09PSAnZnVuY3Rpb24nID8gdGhpcy5vcHRpb25zIDogZGF0ZSA9PiB0aGlzLm9wdGlvbnMuaW5jbHVkZXMoZGF0ZSk7CiAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IHRoaXMuZGF5c0luTW9udGg7IGkrKykgewogICAgICAgIGNvbnN0IGRheUhhc2ggPSB0aGlzLnZpZXdNb250aEhhc2ggKyAnLycgKyBwYWQoaSk7CiAgICAgICAgbWFwW2ldID0gZm4oZGF5SGFzaCk7CiAgICAgIH0KICAgICAgcmV0dXJuIG1hcDsKICAgIH0sCiAgICBldmVudERheXNNYXAoKSB7CiAgICAgIGNvbnN0IG1hcCA9IHt9OwogICAgICBpZiAodGhpcy5ldmVudHMgPT09IHZvaWQgMCkgewogICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IHRoaXMuZGF5c0luTW9udGg7IGkrKykgewogICAgICAgICAgbWFwW2ldID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGNvbnN0IGZuID0gdHlwZW9mIHRoaXMuZXZlbnRzID09PSAnZnVuY3Rpb24nID8gdGhpcy5ldmVudHMgOiBkYXRlID0+IHRoaXMuZXZlbnRzLmluY2x1ZGVzKGRhdGUpOwogICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IHRoaXMuZGF5c0luTW9udGg7IGkrKykgewogICAgICAgICAgY29uc3QgZGF5SGFzaCA9IHRoaXMudmlld01vbnRoSGFzaCArICcvJyArIHBhZChpKTsKICAgICAgICAgIG1hcFtpXSA9IGZuKGRheUhhc2gpID09PSB0cnVlICYmIHRoaXMuZXZ0Q29sb3IoZGF5SGFzaCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBtYXA7CiAgICB9LAogICAgdmlld0RheXMoKSB7CiAgICAgIGxldCBkYXRlLCBlbmREYXk7CiAgICAgIGNvbnN0IHsKICAgICAgICB5ZWFyLAogICAgICAgIG1vbnRoCiAgICAgIH0gPSB0aGlzLnZpZXdNb2RlbDsKICAgICAgaWYgKHRoaXMuY2FsZW5kYXIgIT09ICdwZXJzaWFuJykgewogICAgICAgIGRhdGUgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCAtIDEsIDEpOwogICAgICAgIGVuZERheSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoIC0gMSwgMCkuZ2V0RGF0ZSgpOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnN0IGdEYXRlID0gdG9HcmVnb3JpYW4oeWVhciwgbW9udGgsIDEpOwogICAgICAgIGRhdGUgPSBuZXcgRGF0ZShnRGF0ZS5neSwgZ0RhdGUuZ20gLSAxLCBnRGF0ZS5nZCk7CiAgICAgICAgbGV0IHByZXZKTSA9IG1vbnRoIC0gMTsKICAgICAgICBsZXQgcHJldkpZID0geWVhcjsKICAgICAgICBpZiAocHJldkpNID09PSAwKSB7CiAgICAgICAgICBwcmV2Sk0gPSAxMjsKICAgICAgICAgIHByZXZKWS0tOwogICAgICAgIH0KICAgICAgICBlbmREYXkgPSBqYWxhYWxpTW9udGhMZW5ndGgocHJldkpZLCBwcmV2Sk0pOwogICAgICB9CiAgICAgIHJldHVybiB7CiAgICAgICAgZGF5czogZGF0ZS5nZXREYXkoKSAtIHRoaXMuY29tcHV0ZWRGaXJzdERheU9mV2VlayAtIDEsCiAgICAgICAgZW5kRGF5CiAgICAgIH07CiAgICB9LAogICAgZGF5cygpIHsKICAgICAgY29uc3QgcmVzID0gW107CiAgICAgIGNvbnN0IHsKICAgICAgICBkYXlzLAogICAgICAgIGVuZERheQogICAgICB9ID0gdGhpcy52aWV3RGF5czsKICAgICAgY29uc3QgbGVuID0gZGF5cyA8IDAgPyBkYXlzICsgNyA6IGRheXM7CiAgICAgIGlmIChsZW4gPCA2KSB7CiAgICAgICAgZm9yIChsZXQgaSA9IGVuZERheSAtIGxlbjsgaSA8PSBlbmREYXk7IGkrKykgewogICAgICAgICAgcmVzLnB1c2goewogICAgICAgICAgICBpLAogICAgICAgICAgICBmaWxsOiB0cnVlCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgICAgY29uc3QgaW5kZXggPSByZXMubGVuZ3RoOwogICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSB0aGlzLmRheXNJbk1vbnRoOyBpKyspIHsKICAgICAgICBjb25zdCBkYXkgPSB7CiAgICAgICAgICBpLAogICAgICAgICAgZXZlbnQ6IHRoaXMuZXZlbnREYXlzTWFwW2ldLAogICAgICAgICAgY2xhc3NlczogW10KICAgICAgICB9OwogICAgICAgIGlmICh0aGlzLnNlbGVjdGlvbkRheXNNYXBbaV0gPT09IHRydWUpIHsKICAgICAgICAgIGRheS5pbiA9IHRydWU7CiAgICAgICAgICBkYXkuZmxhdCA9IHRydWU7CiAgICAgICAgfQogICAgICAgIHJlcy5wdXNoKGRheSk7CiAgICAgIH0KCiAgICAgIC8vIGlmIGN1cnJlbnQgdmlldyBoYXMgZGF5cyBpbiBtb2RlbAogICAgICBpZiAodGhpcy5kYXlzTWFwW3RoaXMudmlld01vbnRoSGFzaF0gIT09IHZvaWQgMCkgewogICAgICAgIHRoaXMuZGF5c01hcFt0aGlzLnZpZXdNb250aEhhc2hdLmZvckVhY2goZGF5ID0+IHsKICAgICAgICAgIGNvbnN0IGkgPSBpbmRleCArIGRheSAtIDE7CiAgICAgICAgICBPYmplY3QuYXNzaWduKHJlc1tpXSwgewogICAgICAgICAgICBzZWxlY3RlZDogdHJ1ZSwKICAgICAgICAgICAgdW5lbGV2YXRlZDogdHJ1ZSwKICAgICAgICAgICAgZmxhdDogZmFsc2UsCiAgICAgICAgICAgIGNvbG9yOiB0aGlzLmNvbXB1dGVkQ29sb3IsCiAgICAgICAgICAgIHRleHRDb2xvcjogdGhpcy5jb21wdXRlZFRleHRDb2xvcgogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIC8vIGlmIGN1cnJlbnQgdmlldyBoYXMgcmFuZ2VzIGluIG1vZGVsCiAgICAgIGlmICh0aGlzLnJhbmdlTWFwW3RoaXMudmlld01vbnRoSGFzaF0gIT09IHZvaWQgMCkgewogICAgICAgIHRoaXMucmFuZ2VNYXBbdGhpcy52aWV3TW9udGhIYXNoXS5mb3JFYWNoKGVudHJ5ID0+IHsKICAgICAgICAgIGlmIChlbnRyeS5mcm9tICE9PSB2b2lkIDApIHsKICAgICAgICAgICAgY29uc3QgZnJvbSA9IGluZGV4ICsgZW50cnkuZnJvbSAtIDE7CiAgICAgICAgICAgIGNvbnN0IHRvID0gaW5kZXggKyAoZW50cnkudG8gfHwgdGhpcy5kYXlzSW5Nb250aCkgLSAxOwogICAgICAgICAgICBmb3IgKGxldCBkYXkgPSBmcm9tOyBkYXkgPD0gdG87IGRheSsrKSB7CiAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihyZXNbZGF5XSwgewogICAgICAgICAgICAgICAgcmFuZ2U6IGVudHJ5LnJhbmdlLAogICAgICAgICAgICAgICAgdW5lbGV2YXRlZDogdHJ1ZSwKICAgICAgICAgICAgICAgIGNvbG9yOiB0aGlzLmNvbXB1dGVkQ29sb3IsCiAgICAgICAgICAgICAgICB0ZXh0Q29sb3I6IHRoaXMuY29tcHV0ZWRUZXh0Q29sb3IKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBPYmplY3QuYXNzaWduKHJlc1tmcm9tXSwgewogICAgICAgICAgICAgIHJhbmdlRnJvbTogdHJ1ZSwKICAgICAgICAgICAgICBmbGF0OiBmYWxzZQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgZW50cnkudG8gIT09IHZvaWQgMCAmJiBPYmplY3QuYXNzaWduKHJlc1t0b10sIHsKICAgICAgICAgICAgICByYW5nZVRvOiB0cnVlLAogICAgICAgICAgICAgIGZsYXQ6IGZhbHNlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIGlmIChlbnRyeS50byAhPT0gdm9pZCAwKSB7CiAgICAgICAgICAgIGNvbnN0IHRvID0gaW5kZXggKyBlbnRyeS50byAtIDE7CiAgICAgICAgICAgIGZvciAobGV0IGRheSA9IGluZGV4OyBkYXkgPD0gdG87IGRheSsrKSB7CiAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihyZXNbZGF5XSwgewogICAgICAgICAgICAgICAgcmFuZ2U6IGVudHJ5LnJhbmdlLAogICAgICAgICAgICAgICAgdW5lbGV2YXRlZDogdHJ1ZSwKICAgICAgICAgICAgICAgIGNvbG9yOiB0aGlzLmNvbXB1dGVkQ29sb3IsCiAgICAgICAgICAgICAgICB0ZXh0Q29sb3I6IHRoaXMuY29tcHV0ZWRUZXh0Q29sb3IKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBPYmplY3QuYXNzaWduKHJlc1t0b10sIHsKICAgICAgICAgICAgICBmbGF0OiBmYWxzZSwKICAgICAgICAgICAgICByYW5nZVRvOiB0cnVlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY29uc3QgdG8gPSBpbmRleCArIHRoaXMuZGF5c0luTW9udGggLSAxOwogICAgICAgICAgICBmb3IgKGxldCBkYXkgPSBpbmRleDsgZGF5IDw9IHRvOyBkYXkrKykgewogICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24ocmVzW2RheV0sIHsKICAgICAgICAgICAgICAgIHJhbmdlOiBlbnRyeS5yYW5nZSwKICAgICAgICAgICAgICAgIHVuZWxldmF0ZWQ6IHRydWUsCiAgICAgICAgICAgICAgICBjb2xvcjogdGhpcy5jb21wdXRlZENvbG9yLAogICAgICAgICAgICAgICAgdGV4dENvbG9yOiB0aGlzLmNvbXB1dGVkVGV4dENvbG9yCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgICBpZiAodGhpcy5yYW5nZVZpZXcgIT09IHZvaWQgMCkgewogICAgICAgIGNvbnN0IGZyb20gPSBpbmRleCArIHRoaXMucmFuZ2VWaWV3LmZyb20gLSAxOwogICAgICAgIGNvbnN0IHRvID0gaW5kZXggKyB0aGlzLnJhbmdlVmlldy50byAtIDE7CiAgICAgICAgZm9yIChsZXQgZGF5ID0gZnJvbTsgZGF5IDw9IHRvOyBkYXkrKykgewogICAgICAgICAgcmVzW2RheV0uY29sb3IgPSB0aGlzLmNvbXB1dGVkQ29sb3I7CiAgICAgICAgICByZXNbZGF5XS5lZGl0UmFuZ2UgPSB0cnVlOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5yYW5nZVZpZXcuaW5jbHVkZUZyb20gPT09IHRydWUpIHsKICAgICAgICAgIHJlc1tmcm9tXS5lZGl0UmFuZ2VGcm9tID0gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgaWYgKHRoaXMucmFuZ2VWaWV3LmluY2x1ZGVUbyA9PT0gdHJ1ZSkgewogICAgICAgICAgcmVzW3RvXS5lZGl0UmFuZ2VUbyA9IHRydWU7CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICh0aGlzLnZpZXdNb2RlbC55ZWFyID09PSB0aGlzLnRvZGF5LnllYXIgJiYgdGhpcy52aWV3TW9kZWwubW9udGggPT09IHRoaXMudG9kYXkubW9udGgpIHsKICAgICAgICByZXNbaW5kZXggKyB0aGlzLnRvZGF5LmRheSAtIDFdLnRvZGF5ID0gdHJ1ZTsKICAgICAgfQogICAgICBjb25zdCBsZWZ0ID0gcmVzLmxlbmd0aCAlIDc7CiAgICAgIGlmIChsZWZ0ID4gMCkgewogICAgICAgIGNvbnN0IGFmdGVyRGF5cyA9IDcgLSBsZWZ0OwogICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IGFmdGVyRGF5czsgaSsrKSB7CiAgICAgICAgICByZXMucHVzaCh7CiAgICAgICAgICAgIGksCiAgICAgICAgICAgIGZpbGw6IHRydWUKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgICByZXMuZm9yRWFjaChkYXkgPT4gewogICAgICAgIGxldCBjbHMgPSAncS1kYXRlX19jYWxlbmRhci1pdGVtICc7CiAgICAgICAgaWYgKGRheS5maWxsID09PSB0cnVlKSB7CiAgICAgICAgICBjbHMgKz0gJ3EtZGF0ZV9fY2FsZW5kYXItaXRlbS0tZmlsbCc7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNscyArPSBgcS1kYXRlX19jYWxlbmRhci1pdGVtLS0ke2RheS5pbiA9PT0gdHJ1ZSA/ICdpbicgOiAnb3V0J31gOwogICAgICAgICAgaWYgKGRheS5yYW5nZSAhPT0gdm9pZCAwKSB7CiAgICAgICAgICAgIGNscyArPSBgIHEtZGF0ZV9fcmFuZ2Uke2RheS5yYW5nZVRvID09PSB0cnVlID8gJy10bycgOiBkYXkucmFuZ2VGcm9tID09PSB0cnVlID8gJy1mcm9tJyA6ICcnfWA7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoZGF5LmVkaXRSYW5nZSA9PT0gdHJ1ZSkgewogICAgICAgICAgICBjbHMgKz0gYCBxLWRhdGVfX2VkaXQtcmFuZ2Uke2RheS5lZGl0UmFuZ2VGcm9tID09PSB0cnVlID8gJy1mcm9tJyA6ICcnfSR7ZGF5LmVkaXRSYW5nZVRvID09PSB0cnVlID8gJy10bycgOiAnJ31gOwogICAgICAgICAgfQogICAgICAgICAgaWYgKGRheS5yYW5nZSAhPT0gdm9pZCAwIHx8IGRheS5lZGl0UmFuZ2UgPT09IHRydWUpIHsKICAgICAgICAgICAgY2xzICs9IGAgdGV4dC0ke2RheS5jb2xvcn1gOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBkYXkuY2xhc3NlcyA9IGNsczsKICAgICAgfSk7CiAgICAgIHJldHVybiByZXM7CiAgICB9LAogICAgYXR0cnMoKSB7CiAgICAgIGlmICh0aGlzLmRpc2FibGUgPT09IHRydWUpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgJ2FyaWEtZGlzYWJsZWQnOiAndHJ1ZScKICAgICAgICB9OwogICAgICB9CiAgICAgIGlmICh0aGlzLnJlYWRvbmx5ID09PSB0cnVlKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICdhcmlhLXJlYWRvbmx5JzogJ3RydWUnCiAgICAgICAgfTsKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgc2V0VG9kYXkoKSB7CiAgICAgIGNvbnN0IGRhdGUgPSB0aGlzLnRvZGF5OwogICAgICBjb25zdCBtb250aCA9IHRoaXMuZGF5c01hcFt0aGlzLl9fZ2V0TW9udGhIYXNoKGRhdGUpXTsKICAgICAgaWYgKG1vbnRoID09PSB2b2lkIDAgfHwgbW9udGguaW5jbHVkZXMoZGF0ZS5kYXkpID09PSBmYWxzZSkgewogICAgICAgIHRoaXMuX19hZGRUb01vZGVsKGRhdGUpOwogICAgICB9CiAgICAgIHRoaXMuc2V0Q2FsZW5kYXJUbyh0aGlzLnRvZGF5LnllYXIsIHRoaXMudG9kYXkubW9udGgpOwogICAgfSwKICAgIHNldFZpZXcodmlldykgewogICAgICBpZiAodmlld0lzVmFsaWQodmlldykgPT09IHRydWUpIHsKICAgICAgICB0aGlzLnZpZXcgPSB2aWV3OwogICAgICB9CiAgICB9LAogICAgb2Zmc2V0Q2FsZW5kYXIodHlwZSwgZGVzY2VuZGluZykgewogICAgICBpZiAoWydtb250aCcsICd5ZWFyJ10uaW5jbHVkZXModHlwZSkpIHsKICAgICAgICB0aGlzW2BfX2dvVG8ke3R5cGUgPT09ICdtb250aCcgPyAnTW9udGgnIDogJ1llYXInfWBdKGRlc2NlbmRpbmcgPT09IHRydWUgPyAtMSA6IDEpOwogICAgICB9CiAgICB9LAogICAgc2V0Q2FsZW5kYXJUbyh5ZWFyLCBtb250aCkgewogICAgICB0aGlzLnZpZXcgPSAnQ2FsZW5kYXInOwogICAgICB0aGlzLl9fdXBkYXRlVmlld01vZGVsKHllYXIsIG1vbnRoKTsKICAgIH0sCiAgICBzZXRFZGl0aW5nUmFuZ2UoZnJvbSwgdG8pIHsKICAgICAgaWYgKHRoaXMucmFuZ2UgPT09IGZhbHNlIHx8ICFmcm9tKSB7CiAgICAgICAgdGhpcy5lZGl0UmFuZ2UgPSB2b2lkIDA7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGNvbnN0IGluaXQgPSBPYmplY3QuYXNzaWduKHsKICAgICAgICAuLi50aGlzLnZpZXdNb2RlbAogICAgICB9LCBmcm9tKTsKICAgICAgY29uc3QgZmluYWwgPSB0byAhPT0gdm9pZCAwID8gT2JqZWN0LmFzc2lnbih7CiAgICAgICAgLi4udGhpcy52aWV3TW9kZWwKICAgICAgfSwgdG8pIDogaW5pdDsKICAgICAgdGhpcy5lZGl0UmFuZ2UgPSB7CiAgICAgICAgaW5pdCwKICAgICAgICBpbml0SGFzaDogdGhpcy5fX2dldERheUhhc2goaW5pdCksCiAgICAgICAgZmluYWwsCiAgICAgICAgZmluYWxIYXNoOiB0aGlzLl9fZ2V0RGF5SGFzaChmaW5hbCkKICAgICAgfTsKICAgICAgdGhpcy5zZXRDYWxlbmRhclRvKGluaXQueWVhciwgaW5pdC5tb250aCk7CiAgICB9LAogICAgX19nZXRNYXNrKCkgewogICAgICByZXR1cm4gdGhpcy5jYWxlbmRhciA9PT0gJ3BlcnNpYW4nID8gJ1lZWVkvTU0vREQnIDogdGhpcy5tYXNrOwogICAgfSwKICAgIF9fZGVjb2RlU3RyaW5nKGRhdGUsIG1hc2ssIGxvY2FsZSkgewogICAgICByZXR1cm4gX19zcGxpdERhdGUoZGF0ZSwgbWFzaywgbG9jYWxlLCB0aGlzLmNhbGVuZGFyLCB7CiAgICAgICAgaG91cjogMCwKICAgICAgICBtaW51dGU6IDAsCiAgICAgICAgc2Vjb25kOiAwLAogICAgICAgIG1pbGxpc2Vjb25kOiAwCiAgICAgIH0pOwogICAgfSwKICAgIF9fZ2V0Vmlld01vZGVsKG1hc2ssIGxvY2FsZSkgewogICAgICBjb25zdCBtb2RlbCA9IEFycmF5LmlzQXJyYXkodGhpcy52YWx1ZSkgPT09IHRydWUgPyB0aGlzLnZhbHVlIDogdGhpcy52YWx1ZSA/IFt0aGlzLnZhbHVlXSA6IFtdOwogICAgICBpZiAobW9kZWwubGVuZ3RoID09PSAwKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuX19nZXREZWZhdWx0Vmlld01vZGVsKCk7CiAgICAgIH0KICAgICAgY29uc3QgZGVjb2RlZCA9IHRoaXMuX19kZWNvZGVTdHJpbmcobW9kZWxbMF0uZnJvbSAhPT0gdm9pZCAwID8gbW9kZWxbMF0uZnJvbSA6IG1vZGVsWzBdLCBtYXNrLCBsb2NhbGUpOwogICAgICByZXR1cm4gZGVjb2RlZC5kYXRlSGFzaCA9PT0gbnVsbCA/IHRoaXMuX19nZXREZWZhdWx0Vmlld01vZGVsKCkgOiBkZWNvZGVkOwogICAgfSwKICAgIF9fZ2V0RGVmYXVsdFZpZXdNb2RlbCgpIHsKICAgICAgbGV0IHllYXIsIG1vbnRoOwogICAgICBpZiAodGhpcy5kZWZhdWx0WWVhck1vbnRoICE9PSB2b2lkIDApIHsKICAgICAgICBjb25zdCBkID0gdGhpcy5kZWZhdWx0WWVhck1vbnRoLnNwbGl0KCcvJyk7CiAgICAgICAgeWVhciA9IHBhcnNlSW50KGRbMF0sIDEwKTsKICAgICAgICBtb250aCA9IHBhcnNlSW50KGRbMV0sIDEwKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBtYXkgY29tZSBmcm9tIGRhdGEoKSB3aGVyZSBjb21wdXRlZAogICAgICAgIC8vIHByb3BzIGFyZSBub3QgeWV0IGF2YWlsYWJsZQogICAgICAgIGNvbnN0IGQgPSB0aGlzLnRvZGF5ICE9PSB2b2lkIDAgPyB0aGlzLnRvZGF5IDogdGhpcy5fX2dldEN1cnJlbnREYXRlKCk7CiAgICAgICAgeWVhciA9IGQueWVhcjsKICAgICAgICBtb250aCA9IGQubW9udGg7CiAgICAgIH0KICAgICAgcmV0dXJuIHsKICAgICAgICB5ZWFyLAogICAgICAgIG1vbnRoLAogICAgICAgIGRheTogMSwKICAgICAgICBob3VyOiAwLAogICAgICAgIG1pbnV0ZTogMCwKICAgICAgICBzZWNvbmQ6IDAsCiAgICAgICAgbWlsbGlzZWNvbmQ6IDAsCiAgICAgICAgZGF0ZUhhc2g6IHllYXIgKyAnLycgKyBwYWQobW9udGgpICsgJy8wMScKICAgICAgfTsKICAgIH0sCiAgICBfX2dldEhlYWRlcihoKSB7CiAgICAgIGlmICh0aGlzLm1pbmltYWwgPT09IHRydWUpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgcmV0dXJuIGgoJ2RpdicsIHsKICAgICAgICBzdGF0aWNDbGFzczogJ3EtZGF0ZV9faGVhZGVyJywKICAgICAgICBjbGFzczogdGhpcy5oZWFkZXJDbGFzcwogICAgICB9LCBbaCgnZGl2JywgewogICAgICAgIHN0YXRpY0NsYXNzOiAncmVsYXRpdmUtcG9zaXRpb24nCiAgICAgIH0sIFtoKCd0cmFuc2l0aW9uJywgewogICAgICAgIHByb3BzOiB7CiAgICAgICAgICBuYW1lOiAncS10cmFuc2l0aW9uLS1mYWRlJwogICAgICAgIH0KICAgICAgfSwgW2goJ2RpdicsIHsKICAgICAgICBrZXk6ICdoLXlyLScgKyB0aGlzLmhlYWRlclN1YnRpdGxlLAogICAgICAgIHN0YXRpY0NsYXNzOiAncS1kYXRlX19oZWFkZXItc3VidGl0bGUgcS1kYXRlX19oZWFkZXItbGluaycsCiAgICAgICAgY2xhc3M6IHRoaXMudmlldyA9PT0gJ1llYXJzJyA/ICdxLWRhdGVfX2hlYWRlci1saW5rLS1hY3RpdmUnIDogJ2N1cnNvci1wb2ludGVyJywKICAgICAgICBhdHRyczogewogICAgICAgICAgdGFiaW5kZXg6IHRoaXMuY29tcHV0ZWRUYWJpbmRleAogICAgICAgIH0sCiAgICAgICAgb246IGNhY2hlKHRoaXMsICd2WScsIHsKICAgICAgICAgIGNsaWNrOiAoKSA9PiB7CiAgICAgICAgICAgIHRoaXMudmlldyA9ICdZZWFycyc7CiAgICAgICAgICB9LAogICAgICAgICAga2V5dXA6IGUgPT4gewogICAgICAgICAgICBlLmtleUNvZGUgPT09IDEzICYmICh0aGlzLnZpZXcgPSAnWWVhcnMnKTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICB9LCBbdGhpcy5oZWFkZXJTdWJ0aXRsZV0pXSldKSwgaCgnZGl2JywgewogICAgICAgIHN0YXRpY0NsYXNzOiAncS1kYXRlX19oZWFkZXItdGl0bGUgcmVsYXRpdmUtcG9zaXRpb24gZmxleCBuby13cmFwJwogICAgICB9LCBbaCgnZGl2JywgewogICAgICAgIHN0YXRpY0NsYXNzOiAncmVsYXRpdmUtcG9zaXRpb24gY29sJwogICAgICB9LCBbaCgndHJhbnNpdGlvbicsIHsKICAgICAgICBwcm9wczogewogICAgICAgICAgbmFtZTogJ3EtdHJhbnNpdGlvbi0tZmFkZScKICAgICAgICB9CiAgICAgIH0sIFtoKCdkaXYnLCB7CiAgICAgICAga2V5OiAnaC1zdWInICsgdGhpcy5oZWFkZXJUaXRsZSwKICAgICAgICBzdGF0aWNDbGFzczogJ3EtZGF0ZV9faGVhZGVyLXRpdGxlLWxhYmVsIHEtZGF0ZV9faGVhZGVyLWxpbmsnLAogICAgICAgIGNsYXNzOiB0aGlzLnZpZXcgPT09ICdDYWxlbmRhcicgPyAncS1kYXRlX19oZWFkZXItbGluay0tYWN0aXZlJyA6ICdjdXJzb3ItcG9pbnRlcicsCiAgICAgICAgYXR0cnM6IHsKICAgICAgICAgIHRhYmluZGV4OiB0aGlzLmNvbXB1dGVkVGFiaW5kZXgKICAgICAgICB9LAogICAgICAgIG9uOiBjYWNoZSh0aGlzLCAndkMnLCB7CiAgICAgICAgICBjbGljazogKCkgPT4gewogICAgICAgICAgICB0aGlzLnZpZXcgPSAnQ2FsZW5kYXInOwogICAgICAgICAgfSwKICAgICAgICAgIGtleXVwOiBlID0+IHsKICAgICAgICAgICAgZS5rZXlDb2RlID09PSAxMyAmJiAodGhpcy52aWV3ID0gJ0NhbGVuZGFyJyk7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfSwgW3RoaXMuaGVhZGVyVGl0bGVdKV0pXSksIHRoaXMudG9kYXlCdG4gPT09IHRydWUgPyBoKFFCdG4sIHsKICAgICAgICBzdGF0aWNDbGFzczogJ3EtZGF0ZV9faGVhZGVyLXRvZGF5IHNlbGYtc3RhcnQnLAogICAgICAgIHByb3BzOiB7CiAgICAgICAgICBpY29uOiB0aGlzLiRxLmljb25TZXQuZGF0ZXRpbWUudG9kYXksCiAgICAgICAgICBmbGF0OiB0cnVlLAogICAgICAgICAgc2l6ZTogJ3NtJywKICAgICAgICAgIHJvdW5kOiB0cnVlLAogICAgICAgICAgdGFiaW5kZXg6IHRoaXMuY29tcHV0ZWRUYWJpbmRleAogICAgICAgIH0sCiAgICAgICAgb246IGNhY2hlKHRoaXMsICd0b2RheScsIHsKICAgICAgICAgIGNsaWNrOiB0aGlzLnNldFRvZGF5CiAgICAgICAgfSkKICAgICAgfSkgOiBudWxsXSldKTsKICAgIH0sCiAgICBfX2dldE5hdmlnYXRpb24oaCwgewogICAgICBsYWJlbCwKICAgICAgdmlldywKICAgICAga2V5LAogICAgICBkaXIsCiAgICAgIGdvVG8sCiAgICAgIGJvdW5kYXJpZXMsCiAgICAgIGNscwogICAgfSkgewogICAgICByZXR1cm4gW2goJ2RpdicsIHsKICAgICAgICBzdGF0aWNDbGFzczogJ3JvdyBpdGVtcy1jZW50ZXIgcS1kYXRlX19hcnJvdycKICAgICAgfSwgW2goUUJ0biwgewogICAgICAgIHByb3BzOiB7CiAgICAgICAgICByb3VuZDogdHJ1ZSwKICAgICAgICAgIGRlbnNlOiB0cnVlLAogICAgICAgICAgc2l6ZTogJ3NtJywKICAgICAgICAgIGZsYXQ6IHRydWUsCiAgICAgICAgICBpY29uOiB0aGlzLmRhdGVBcnJvd1swXSwKICAgICAgICAgIHRhYmluZGV4OiB0aGlzLmNvbXB1dGVkVGFiaW5kZXgsCiAgICAgICAgICBkaXNhYmxlOiBib3VuZGFyaWVzLnByZXYgPT09IGZhbHNlCiAgICAgICAgfSwKICAgICAgICBvbjogY2FjaGUodGhpcywgJ2dvLSMnICsgdmlldywgewogICAgICAgICAgY2xpY2soKSB7CiAgICAgICAgICAgIGdvVG8oLTEpOwogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgIH0pXSksIGgoJ2RpdicsIHsKICAgICAgICBzdGF0aWNDbGFzczogJ3JlbGF0aXZlLXBvc2l0aW9uIG92ZXJmbG93LWhpZGRlbiBmbGV4IGZsZXgtY2VudGVyJyArIGNscwogICAgICB9LCBbaCgndHJhbnNpdGlvbicsIHsKICAgICAgICBwcm9wczogewogICAgICAgICAgbmFtZTogJ3EtdHJhbnNpdGlvbi0tanVtcC0nICsgZGlyCiAgICAgICAgfQogICAgICB9LCBbaCgnZGl2JywgewogICAgICAgIGtleQogICAgICB9LCBbaChRQnRuLCB7CiAgICAgICAgcHJvcHM6IHsKICAgICAgICAgIGZsYXQ6IHRydWUsCiAgICAgICAgICBkZW5zZTogdHJ1ZSwKICAgICAgICAgIG5vQ2FwczogdHJ1ZSwKICAgICAgICAgIGxhYmVsLAogICAgICAgICAgdGFiaW5kZXg6IHRoaXMuY29tcHV0ZWRUYWJpbmRleAogICAgICAgIH0sCiAgICAgICAgb246IGNhY2hlKHRoaXMsICd2aWV3IycgKyB2aWV3LCB7CiAgICAgICAgICBjbGljazogKCkgPT4gewogICAgICAgICAgICB0aGlzLnZpZXcgPSB2aWV3OwogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgIH0pXSldKV0pLCBoKCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICdyb3cgaXRlbXMtY2VudGVyIHEtZGF0ZV9fYXJyb3cnCiAgICAgIH0sIFtoKFFCdG4sIHsKICAgICAgICBwcm9wczogewogICAgICAgICAgcm91bmQ6IHRydWUsCiAgICAgICAgICBkZW5zZTogdHJ1ZSwKICAgICAgICAgIHNpemU6ICdzbScsCiAgICAgICAgICBmbGF0OiB0cnVlLAogICAgICAgICAgaWNvbjogdGhpcy5kYXRlQXJyb3dbMV0sCiAgICAgICAgICB0YWJpbmRleDogdGhpcy5jb21wdXRlZFRhYmluZGV4LAogICAgICAgICAgZGlzYWJsZTogYm91bmRhcmllcy5uZXh0ID09PSBmYWxzZQogICAgICAgIH0sCiAgICAgICAgb246IGNhY2hlKHRoaXMsICdnbysjJyArIHZpZXcsIHsKICAgICAgICAgIGNsaWNrKCkgewogICAgICAgICAgICBnb1RvKDEpOwogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgIH0pXSldOwogICAgfSwKICAgIF9fZ2V0Q2FsZW5kYXJWaWV3KGgpIHsKICAgICAgcmV0dXJuIFtoKCdkaXYnLCB7CiAgICAgICAga2V5OiAnY2FsZW5kYXItdmlldycsCiAgICAgICAgc3RhdGljQ2xhc3M6ICdxLWRhdGVfX3ZpZXcgcS1kYXRlX19jYWxlbmRhcicKICAgICAgfSwgW2goJ2RpdicsIHsKICAgICAgICBzdGF0aWNDbGFzczogJ3EtZGF0ZV9fbmF2aWdhdGlvbiByb3cgaXRlbXMtY2VudGVyIG5vLXdyYXAnCiAgICAgIH0sIHRoaXMuX19nZXROYXZpZ2F0aW9uKGgsIHsKICAgICAgICBsYWJlbDogdGhpcy5pbm5lckxvY2FsZS5tb250aHNbdGhpcy52aWV3TW9kZWwubW9udGggLSAxXSwKICAgICAgICB2aWV3OiAnTW9udGhzJywKICAgICAgICBrZXk6IHRoaXMudmlld01vZGVsLm1vbnRoLAogICAgICAgIGRpcjogdGhpcy5tb250aERpcmVjdGlvbiwKICAgICAgICBnb1RvOiB0aGlzLl9fZ29Ub01vbnRoLAogICAgICAgIGJvdW5kYXJpZXM6IHRoaXMubmF2Qm91bmRhcmllcy5tb250aCwKICAgICAgICBjbHM6ICcgY29sJwogICAgICB9KS5jb25jYXQodGhpcy5fX2dldE5hdmlnYXRpb24oaCwgewogICAgICAgIGxhYmVsOiB0aGlzLnZpZXdNb2RlbC55ZWFyLAogICAgICAgIHZpZXc6ICdZZWFycycsCiAgICAgICAga2V5OiB0aGlzLnZpZXdNb2RlbC55ZWFyLAogICAgICAgIGRpcjogdGhpcy55ZWFyRGlyZWN0aW9uLAogICAgICAgIGdvVG86IHRoaXMuX19nb1RvWWVhciwKICAgICAgICBib3VuZGFyaWVzOiB0aGlzLm5hdkJvdW5kYXJpZXMueWVhciwKICAgICAgICBjbHM6ICcnCiAgICAgIH0pKSksIGgoJ2RpdicsIHsKICAgICAgICBzdGF0aWNDbGFzczogJ3EtZGF0ZV9fY2FsZW5kYXItd2Vla2RheXMgcm93IGl0ZW1zLWNlbnRlciBuby13cmFwJwogICAgICB9LCB0aGlzLmRheXNPZldlZWsubWFwKGRheSA9PiBoKCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICdxLWRhdGVfX2NhbGVuZGFyLWl0ZW0nCiAgICAgIH0sIFtoKCdkaXYnLCBbZGF5XSldKSkpLCBoKCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICdxLWRhdGVfX2NhbGVuZGFyLWRheXMtY29udGFpbmVyIHJlbGF0aXZlLXBvc2l0aW9uIG92ZXJmbG93LWhpZGRlbicKICAgICAgfSwgW2goJ3RyYW5zaXRpb24nLCB7CiAgICAgICAgcHJvcHM6IHsKICAgICAgICAgIG5hbWU6ICdxLXRyYW5zaXRpb24tLXNsaWRlLScgKyB0aGlzLm1vbnRoRGlyZWN0aW9uCiAgICAgICAgfQogICAgICB9LCBbaCgnZGl2JywgewogICAgICAgIGtleTogdGhpcy52aWV3TW9udGhIYXNoLAogICAgICAgIHN0YXRpY0NsYXNzOiAncS1kYXRlX19jYWxlbmRhci1kYXlzIGZpdCcKICAgICAgfSwgdGhpcy5kYXlzLm1hcChkYXkgPT4gaCgnZGl2JywgewogICAgICAgIHN0YXRpY0NsYXNzOiBkYXkuY2xhc3NlcwogICAgICB9LCBbZGF5LmluID09PSB0cnVlID8gaChRQnRuLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6IGRheS50b2RheSA9PT0gdHJ1ZSA/ICdxLWRhdGVfX3RvZGF5JyA6IG51bGwsCiAgICAgICAgcHJvcHM6IHsKICAgICAgICAgIGRlbnNlOiB0cnVlLAogICAgICAgICAgZmxhdDogZGF5LmZsYXQsCiAgICAgICAgICB1bmVsZXZhdGVkOiBkYXkudW5lbGV2YXRlZCwKICAgICAgICAgIGNvbG9yOiBkYXkuY29sb3IsCiAgICAgICAgICB0ZXh0Q29sb3I6IGRheS50ZXh0Q29sb3IsCiAgICAgICAgICBsYWJlbDogZGF5LmksCiAgICAgICAgICB0YWJpbmRleDogdGhpcy5jb21wdXRlZFRhYmluZGV4CiAgICAgICAgfSwKICAgICAgICBvbjogY2FjaGUodGhpcywgJ2RheSMnICsgZGF5LmksIHsKICAgICAgICAgIGNsaWNrOiAoKSA9PiB7CiAgICAgICAgICAgIHRoaXMuX19vbkRheUNsaWNrKGRheS5pKTsKICAgICAgICAgIH0sCiAgICAgICAgICBtb3VzZW92ZXI6ICgpID0+IHsKICAgICAgICAgICAgdGhpcy5fX29uRGF5TW91c2VvdmVyKGRheS5pKTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICB9LCBkYXkuZXZlbnQgIT09IGZhbHNlID8gW2goJ2RpdicsIHsKICAgICAgICBzdGF0aWNDbGFzczogJ3EtZGF0ZV9fZXZlbnQgYmctJyArIGRheS5ldmVudAogICAgICB9KV0gOiBudWxsKSA6IGgoJ2RpdicsIFtkYXkuaV0pXSkpKV0pXSldKV07CiAgICB9LAogICAgX19nZXRNb250aHNWaWV3KGgpIHsKICAgICAgY29uc3QgY3VycmVudFllYXIgPSB0aGlzLnZpZXdNb2RlbC55ZWFyID09PSB0aGlzLnRvZGF5LnllYXI7CiAgICAgIGNvbnN0IGlzRGlzYWJsZWQgPSBtb250aCA9PiB7CiAgICAgICAgcmV0dXJuIHRoaXMubWluTmF2ICE9PSB2b2lkIDAgJiYgdGhpcy52aWV3TW9kZWwueWVhciA9PT0gdGhpcy5taW5OYXYueWVhciAmJiB0aGlzLm1pbk5hdi5tb250aCA+IG1vbnRoIHx8IHRoaXMubWF4TmF2ICE9PSB2b2lkIDAgJiYgdGhpcy52aWV3TW9kZWwueWVhciA9PT0gdGhpcy5tYXhOYXYueWVhciAmJiB0aGlzLm1heE5hdi5tb250aCA8IG1vbnRoOwogICAgICB9OwogICAgICBjb25zdCBjb250ZW50ID0gdGhpcy5pbm5lckxvY2FsZS5tb250aHNTaG9ydC5tYXAoKG1vbnRoLCBpKSA9PiB7CiAgICAgICAgY29uc3QgYWN0aXZlID0gdGhpcy52aWV3TW9kZWwubW9udGggPT09IGkgKyAxOwogICAgICAgIHJldHVybiBoKCdkaXYnLCB7CiAgICAgICAgICBzdGF0aWNDbGFzczogJ3EtZGF0ZV9fbW9udGhzLWl0ZW0gZmxleCBmbGV4LWNlbnRlcicKICAgICAgICB9LCBbaChRQnRuLCB7CiAgICAgICAgICBzdGF0aWNDbGFzczogY3VycmVudFllYXIgPT09IHRydWUgJiYgdGhpcy50b2RheS5tb250aCA9PT0gaSArIDEgPyAncS1kYXRlX190b2RheScgOiBudWxsLAogICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgZmxhdDogYWN0aXZlICE9PSB0cnVlLAogICAgICAgICAgICBsYWJlbDogbW9udGgsCiAgICAgICAgICAgIHVuZWxldmF0ZWQ6IGFjdGl2ZSwKICAgICAgICAgICAgY29sb3I6IGFjdGl2ZSA9PT0gdHJ1ZSA/IHRoaXMuY29tcHV0ZWRDb2xvciA6IG51bGwsCiAgICAgICAgICAgIHRleHRDb2xvcjogYWN0aXZlID09PSB0cnVlID8gdGhpcy5jb21wdXRlZFRleHRDb2xvciA6IG51bGwsCiAgICAgICAgICAgIHRhYmluZGV4OiB0aGlzLmNvbXB1dGVkVGFiaW5kZXgsCiAgICAgICAgICAgIGRpc2FibGU6IGlzRGlzYWJsZWQoaSArIDEpCiAgICAgICAgICB9LAogICAgICAgICAgb246IGNhY2hlKHRoaXMsICdtb250aCMnICsgaSwgewogICAgICAgICAgICBjbGljazogKCkgPT4gewogICAgICAgICAgICAgIHRoaXMuX19zZXRNb250aChpICsgMSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgfSldKTsKICAgICAgfSk7CiAgICAgIHRoaXMueWVhcnNJbk1vbnRoVmlldyA9PT0gdHJ1ZSAmJiBjb250ZW50LnVuc2hpZnQoaCgnZGl2JywgewogICAgICAgIHN0YXRpY0NsYXNzOiAncm93IG5vLXdyYXAgZnVsbC13aWR0aCcKICAgICAgfSwgW3RoaXMuX19nZXROYXZpZ2F0aW9uKGgsIHsKICAgICAgICBsYWJlbDogdGhpcy52aWV3TW9kZWwueWVhciwKICAgICAgICB2aWV3OiAnWWVhcnMnLAogICAgICAgIGtleTogdGhpcy52aWV3TW9kZWwueWVhciwKICAgICAgICBkaXI6IHRoaXMueWVhckRpcmVjdGlvbiwKICAgICAgICBnb1RvOiB0aGlzLl9fZ29Ub1llYXIsCiAgICAgICAgYm91bmRhcmllczogdGhpcy5uYXZCb3VuZGFyaWVzLnllYXIsCiAgICAgICAgY2xzOiAnIGNvbCcKICAgICAgfSldKSk7CiAgICAgIHJldHVybiBoKCdkaXYnLCB7CiAgICAgICAga2V5OiAnbW9udGhzLXZpZXcnLAogICAgICAgIHN0YXRpY0NsYXNzOiAncS1kYXRlX192aWV3IHEtZGF0ZV9fbW9udGhzIGZsZXggZmxleC1jZW50ZXInCiAgICAgIH0sIGNvbnRlbnQpOwogICAgfSwKICAgIF9fZ2V0WWVhcnNWaWV3KGgpIHsKICAgICAgY29uc3Qgc3RhcnQgPSB0aGlzLnN0YXJ0WWVhciwKICAgICAgICBzdG9wID0gc3RhcnQgKyB5ZWFyc0ludGVydmFsLAogICAgICAgIHllYXJzID0gW107CiAgICAgIGNvbnN0IGlzRGlzYWJsZWQgPSB5ZWFyID0+IHsKICAgICAgICByZXR1cm4gdGhpcy5taW5OYXYgIT09IHZvaWQgMCAmJiB0aGlzLm1pbk5hdi55ZWFyID4geWVhciB8fCB0aGlzLm1heE5hdiAhPT0gdm9pZCAwICYmIHRoaXMubWF4TmF2LnllYXIgPCB5ZWFyOwogICAgICB9OwogICAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPD0gc3RvcDsgaSsrKSB7CiAgICAgICAgY29uc3QgYWN0aXZlID0gdGhpcy52aWV3TW9kZWwueWVhciA9PT0gaTsKICAgICAgICB5ZWFycy5wdXNoKGgoJ2RpdicsIHsKICAgICAgICAgIHN0YXRpY0NsYXNzOiAncS1kYXRlX195ZWFycy1pdGVtIGZsZXggZmxleC1jZW50ZXInCiAgICAgICAgfSwgW2goUUJ0biwgewogICAgICAgICAga2V5OiAneXInICsgaSwKICAgICAgICAgIHN0YXRpY0NsYXNzOiB0aGlzLnRvZGF5LnllYXIgPT09IGkgPyAncS1kYXRlX190b2RheScgOiBudWxsLAogICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgZmxhdDogIWFjdGl2ZSwKICAgICAgICAgICAgbGFiZWw6IGksCiAgICAgICAgICAgIGRlbnNlOiB0cnVlLAogICAgICAgICAgICB1bmVsZXZhdGVkOiBhY3RpdmUsCiAgICAgICAgICAgIGNvbG9yOiBhY3RpdmUgPT09IHRydWUgPyB0aGlzLmNvbXB1dGVkQ29sb3IgOiBudWxsLAogICAgICAgICAgICB0ZXh0Q29sb3I6IGFjdGl2ZSA9PT0gdHJ1ZSA/IHRoaXMuY29tcHV0ZWRUZXh0Q29sb3IgOiBudWxsLAogICAgICAgICAgICB0YWJpbmRleDogdGhpcy5jb21wdXRlZFRhYmluZGV4LAogICAgICAgICAgICBkaXNhYmxlOiBpc0Rpc2FibGVkKGkpCiAgICAgICAgICB9LAogICAgICAgICAgb246IGNhY2hlKHRoaXMsICd5ciMnICsgaSwgewogICAgICAgICAgICBjbGljazogKCkgPT4gewogICAgICAgICAgICAgIHRoaXMuX19zZXRZZWFyKGkpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgIH0pXSkpOwogICAgICB9CiAgICAgIHJldHVybiBoKCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICdxLWRhdGVfX3ZpZXcgcS1kYXRlX195ZWFycyBmbGV4IGZsZXgtY2VudGVyJwogICAgICB9LCBbaCgnZGl2JywgewogICAgICAgIHN0YXRpY0NsYXNzOiAnY29sLWF1dG8nCiAgICAgIH0sIFtoKFFCdG4sIHsKICAgICAgICBwcm9wczogewogICAgICAgICAgcm91bmQ6IHRydWUsCiAgICAgICAgICBkZW5zZTogdHJ1ZSwKICAgICAgICAgIGZsYXQ6IHRydWUsCiAgICAgICAgICBpY29uOiB0aGlzLmRhdGVBcnJvd1swXSwKICAgICAgICAgIHRhYmluZGV4OiB0aGlzLmNvbXB1dGVkVGFiaW5kZXgsCiAgICAgICAgICBkaXNhYmxlOiBpc0Rpc2FibGVkKHN0YXJ0KQogICAgICAgIH0sCiAgICAgICAgb246IGNhY2hlKHRoaXMsICd5LScsIHsKICAgICAgICAgIGNsaWNrOiAoKSA9PiB7CiAgICAgICAgICAgIHRoaXMuc3RhcnRZZWFyIC09IHllYXJzSW50ZXJ2YWw7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfSldKSwgaCgnZGl2JywgewogICAgICAgIHN0YXRpY0NsYXNzOiAncS1kYXRlX195ZWFycy1jb250ZW50IGNvbCBzZWxmLXN0cmV0Y2ggcm93IGl0ZW1zLWNlbnRlcicKICAgICAgfSwgeWVhcnMpLCBoKCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICdjb2wtYXV0bycKICAgICAgfSwgW2goUUJ0biwgewogICAgICAgIHByb3BzOiB7CiAgICAgICAgICByb3VuZDogdHJ1ZSwKICAgICAgICAgIGRlbnNlOiB0cnVlLAogICAgICAgICAgZmxhdDogdHJ1ZSwKICAgICAgICAgIGljb246IHRoaXMuZGF0ZUFycm93WzFdLAogICAgICAgICAgdGFiaW5kZXg6IHRoaXMuY29tcHV0ZWRUYWJpbmRleCwKICAgICAgICAgIGRpc2FibGU6IGlzRGlzYWJsZWQoc3RvcCkKICAgICAgICB9LAogICAgICAgIG9uOiBjYWNoZSh0aGlzLCAneSsnLCB7CiAgICAgICAgICBjbGljazogKCkgPT4gewogICAgICAgICAgICB0aGlzLnN0YXJ0WWVhciArPSB5ZWFyc0ludGVydmFsOwogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgIH0pXSldKTsKICAgIH0sCiAgICBfX2dvVG9Nb250aChvZmZzZXQpIHsKICAgICAgbGV0IHllYXIgPSB0aGlzLnZpZXdNb2RlbC55ZWFyOwogICAgICBsZXQgbW9udGggPSBOdW1iZXIodGhpcy52aWV3TW9kZWwubW9udGgpICsgb2Zmc2V0OwogICAgICBpZiAobW9udGggPT09IDEzKSB7CiAgICAgICAgbW9udGggPSAxOwogICAgICAgIHllYXIrKzsKICAgICAgfSBlbHNlIGlmIChtb250aCA9PT0gMCkgewogICAgICAgIG1vbnRoID0gMTI7CiAgICAgICAgeWVhci0tOwogICAgICB9CiAgICAgIHRoaXMuX191cGRhdGVWaWV3TW9kZWwoeWVhciwgbW9udGgpOwogICAgICB0aGlzLmlzSW1tZWRpYXRlID09PSB0cnVlICYmIHRoaXMuX19lbWl0SW1tZWRpYXRlbHkoJ21vbnRoJyk7CiAgICB9LAogICAgX19nb1RvWWVhcihvZmZzZXQpIHsKICAgICAgY29uc3QgeWVhciA9IE51bWJlcih0aGlzLnZpZXdNb2RlbC55ZWFyKSArIG9mZnNldDsKICAgICAgdGhpcy5fX3VwZGF0ZVZpZXdNb2RlbCh5ZWFyLCB0aGlzLnZpZXdNb2RlbC5tb250aCk7CiAgICAgIHRoaXMuaXNJbW1lZGlhdGUgPT09IHRydWUgJiYgdGhpcy5fX2VtaXRJbW1lZGlhdGVseSgneWVhcicpOwogICAgfSwKICAgIF9fc2V0WWVhcih5ZWFyKSB7CiAgICAgIHRoaXMuX191cGRhdGVWaWV3TW9kZWwoeWVhciwgdGhpcy52aWV3TW9kZWwubW9udGgpOwogICAgICB0aGlzLnZpZXcgPSB0aGlzLmRlZmF1bHRWaWV3ID09PSAnWWVhcnMnID8gJ01vbnRocycgOiAnQ2FsZW5kYXInOwogICAgICB0aGlzLmlzSW1tZWRpYXRlID09PSB0cnVlICYmIHRoaXMuX19lbWl0SW1tZWRpYXRlbHkoJ3llYXInKTsKICAgIH0sCiAgICBfX3NldE1vbnRoKG1vbnRoKSB7CiAgICAgIHRoaXMuX191cGRhdGVWaWV3TW9kZWwodGhpcy52aWV3TW9kZWwueWVhciwgbW9udGgpOwogICAgICB0aGlzLnZpZXcgPSAnQ2FsZW5kYXInOwogICAgICB0aGlzLmlzSW1tZWRpYXRlID09PSB0cnVlICYmIHRoaXMuX19lbWl0SW1tZWRpYXRlbHkoJ21vbnRoJyk7CiAgICB9LAogICAgX19nZXRNb250aEhhc2goZGF0ZSkgewogICAgICByZXR1cm4gZGF0ZS55ZWFyICsgJy8nICsgcGFkKGRhdGUubW9udGgpOwogICAgfSwKICAgIF9fdG9nZ2xlRGF0ZShkYXRlLCBtb250aEhhc2gpIHsKICAgICAgY29uc3QgbW9udGggPSB0aGlzLmRheXNNYXBbbW9udGhIYXNoXTsKICAgICAgY29uc3QgZm4gPSBtb250aCAhPT0gdm9pZCAwICYmIG1vbnRoLmluY2x1ZGVzKGRhdGUuZGF5KSA9PT0gdHJ1ZSA/IHRoaXMuX19yZW1vdmVGcm9tTW9kZWwgOiB0aGlzLl9fYWRkVG9Nb2RlbDsKICAgICAgZm4oZGF0ZSk7CiAgICB9LAogICAgX19nZXRTaG9ydERhdGUoZGF0ZSkgewogICAgICByZXR1cm4gewogICAgICAgIHllYXI6IGRhdGUueWVhciwKICAgICAgICBtb250aDogZGF0ZS5tb250aCwKICAgICAgICBkYXk6IGRhdGUuZGF5CiAgICAgIH07CiAgICB9LAogICAgX19vbkRheUNsaWNrKGRheUluZGV4KSB7CiAgICAgIGNvbnN0IGRheSA9IHsKICAgICAgICAuLi50aGlzLnZpZXdNb2RlbCwKICAgICAgICBkYXk6IGRheUluZGV4CiAgICAgIH07CiAgICAgIGlmICh0aGlzLnJhbmdlID09PSBmYWxzZSkgewogICAgICAgIHRoaXMuX190b2dnbGVEYXRlKGRheSwgdGhpcy52aWV3TW9udGhIYXNoKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKHRoaXMuZWRpdFJhbmdlID09PSB2b2lkIDApIHsKICAgICAgICBjb25zdCBkYXlQcm9wcyA9IHRoaXMuZGF5cy5maW5kKGRheSA9PiBkYXkuZmlsbCAhPT0gdHJ1ZSAmJiBkYXkuaSA9PT0gZGF5SW5kZXgpOwogICAgICAgIGlmIChkYXlQcm9wcy5yYW5nZSAhPT0gdm9pZCAwKSB7CiAgICAgICAgICB0aGlzLl9fcmVtb3ZlRnJvbU1vZGVsKHsKICAgICAgICAgICAgdGFyZ2V0OiBkYXksCiAgICAgICAgICAgIGZyb206IGRheVByb3BzLnJhbmdlLmZyb20sCiAgICAgICAgICAgIHRvOiBkYXlQcm9wcy5yYW5nZS50bwogICAgICAgICAgfSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGlmIChkYXlQcm9wcy5zZWxlY3RlZCA9PT0gdHJ1ZSkgewogICAgICAgICAgdGhpcy5fX3JlbW92ZUZyb21Nb2RlbChkYXkpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBjb25zdCBpbml0SGFzaCA9IHRoaXMuX19nZXREYXlIYXNoKGRheSk7CiAgICAgICAgdGhpcy5lZGl0UmFuZ2UgPSB7CiAgICAgICAgICBpbml0OiBkYXksCiAgICAgICAgICBpbml0SGFzaCwKICAgICAgICAgIGZpbmFsOiBkYXksCiAgICAgICAgICBmaW5hbEhhc2g6IGluaXRIYXNoCiAgICAgICAgfTsKICAgICAgICB0aGlzLiRlbWl0KCdyYW5nZS1zdGFydCcsIHRoaXMuX19nZXRTaG9ydERhdGUoZGF5KSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc3QgaW5pdEhhc2ggPSB0aGlzLmVkaXRSYW5nZS5pbml0SGFzaCwKICAgICAgICAgIGZpbmFsSGFzaCA9IHRoaXMuX19nZXREYXlIYXNoKGRheSksCiAgICAgICAgICBwYXlsb2FkID0gaW5pdEhhc2ggPD0gZmluYWxIYXNoID8gewogICAgICAgICAgICBmcm9tOiB0aGlzLmVkaXRSYW5nZS5pbml0LAogICAgICAgICAgICB0bzogZGF5CiAgICAgICAgICB9IDogewogICAgICAgICAgICBmcm9tOiBkYXksCiAgICAgICAgICAgIHRvOiB0aGlzLmVkaXRSYW5nZS5pbml0CiAgICAgICAgICB9OwogICAgICAgIHRoaXMuZWRpdFJhbmdlID0gdm9pZCAwOwogICAgICAgIHRoaXMuX19hZGRUb01vZGVsKGluaXRIYXNoID09PSBmaW5hbEhhc2ggPyBkYXkgOiB7CiAgICAgICAgICB0YXJnZXQ6IGRheSwKICAgICAgICAgIC4uLnBheWxvYWQKICAgICAgICB9KTsKICAgICAgICB0aGlzLiRlbWl0KCdyYW5nZS1lbmQnLCB7CiAgICAgICAgICBmcm9tOiB0aGlzLl9fZ2V0U2hvcnREYXRlKHBheWxvYWQuZnJvbSksCiAgICAgICAgICB0bzogdGhpcy5fX2dldFNob3J0RGF0ZShwYXlsb2FkLnRvKQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgX19vbkRheU1vdXNlb3ZlcihkYXlJbmRleCkgewogICAgICBpZiAodGhpcy5lZGl0UmFuZ2UgIT09IHZvaWQgMCkgewogICAgICAgIGNvbnN0IGZpbmFsID0gewogICAgICAgICAgLi4udGhpcy52aWV3TW9kZWwsCiAgICAgICAgICBkYXk6IGRheUluZGV4CiAgICAgICAgfTsKICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuZWRpdFJhbmdlLCB7CiAgICAgICAgICBmaW5hbCwKICAgICAgICAgIGZpbmFsSGFzaDogdGhpcy5fX2dldERheUhhc2goZmluYWwpCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBfX3VwZGF0ZVZpZXdNb2RlbCh5ZWFyLCBtb250aCkgewogICAgICBpZiAodGhpcy5taW5OYXYgIT09IHZvaWQgMCAmJiB5ZWFyIDw9IHRoaXMubWluTmF2LnllYXIpIHsKICAgICAgICB5ZWFyID0gdGhpcy5taW5OYXYueWVhcjsKICAgICAgICBpZiAobW9udGggPCB0aGlzLm1pbk5hdi5tb250aCkgewogICAgICAgICAgbW9udGggPSB0aGlzLm1pbk5hdi5tb250aDsKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKHRoaXMubWF4TmF2ICE9PSB2b2lkIDAgJiYgeWVhciA+PSB0aGlzLm1heE5hdi55ZWFyKSB7CiAgICAgICAgeWVhciA9IHRoaXMubWF4TmF2LnllYXI7CiAgICAgICAgaWYgKG1vbnRoID4gdGhpcy5tYXhOYXYubW9udGgpIHsKICAgICAgICAgIG1vbnRoID0gdGhpcy5tYXhOYXYubW9udGg7CiAgICAgICAgfQogICAgICB9CiAgICAgIGNvbnN0IG5ld0hhc2ggPSB5ZWFyICsgJy8nICsgcGFkKG1vbnRoKSArICcvMDEnOwogICAgICBpZiAobmV3SGFzaCAhPT0gdGhpcy52aWV3TW9kZWwuZGF0ZUhhc2gpIHsKICAgICAgICB0aGlzLm1vbnRoRGlyZWN0aW9uID0gdGhpcy52aWV3TW9kZWwuZGF0ZUhhc2ggPCBuZXdIYXNoID09PSAodGhpcy4kcS5sYW5nLnJ0bCAhPT0gdHJ1ZSkgPyAnbGVmdCcgOiAncmlnaHQnOwogICAgICAgIGlmICh5ZWFyICE9PSB0aGlzLnZpZXdNb2RlbC55ZWFyKSB7CiAgICAgICAgICB0aGlzLnllYXJEaXJlY3Rpb24gPSB0aGlzLm1vbnRoRGlyZWN0aW9uOwogICAgICAgIH0KICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICB0aGlzLnN0YXJ0WWVhciA9IHllYXIgLSB5ZWFyICUgeWVhcnNJbnRlcnZhbCAtICh5ZWFyIDwgMCA/IHllYXJzSW50ZXJ2YWwgOiAwKTsKICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy52aWV3TW9kZWwsIHsKICAgICAgICAgICAgeWVhciwKICAgICAgICAgICAgbW9udGgsCiAgICAgICAgICAgIGRheTogMSwKICAgICAgICAgICAgZGF0ZUhhc2g6IG5ld0hhc2gKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgX19lbWl0VmFsdWUodmFsLCBhY3Rpb24sIGRhdGUpIHsKICAgICAgY29uc3QgdmFsdWUgPSB2YWwgIT09IG51bGwgJiYgdmFsLmxlbmd0aCA9PT0gMSAmJiB0aGlzLm11bHRpcGxlID09PSBmYWxzZSA/IHZhbFswXSA6IHZhbDsKICAgICAgdGhpcy5sYXN0RW1pdFZhbHVlID0gdmFsdWU7CiAgICAgIGNvbnN0IHsKICAgICAgICByZWFzb24sCiAgICAgICAgZGV0YWlscwogICAgICB9ID0gdGhpcy5fX2dldEVtaXRQYXJhbXMoYWN0aW9uLCBkYXRlKTsKICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB2YWx1ZSwgcmVhc29uLCBkZXRhaWxzKTsKICAgIH0sCiAgICBfX2VtaXRJbW1lZGlhdGVseShyZWFzb24pIHsKICAgICAgY29uc3QgZGF0ZSA9IHRoaXMuZGF5c01vZGVsWzBdICE9PSB2b2lkIDAgJiYgdGhpcy5kYXlzTW9kZWxbMF0uZGF0ZUhhc2ggIT09IG51bGwgPyB7CiAgICAgICAgLi4udGhpcy5kYXlzTW9kZWxbMF0KICAgICAgfSA6IHsKICAgICAgICAuLi50aGlzLnZpZXdNb2RlbAogICAgICB9OyAvLyBpbmhlcml0IGRheSwgaG91cnMsIG1pbnV0ZXMsIG1pbGxpc2Vjb25kcy4uLgoKICAgICAgLy8gbmV4dFRpY2sgcmVxdWlyZWQgYmVjYXVzZSBvZiBhbmltYXRpb24gZGVsYXkgaW4gdmlld01vZGVsCiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICBkYXRlLnllYXIgPSB0aGlzLnZpZXdNb2RlbC55ZWFyOwogICAgICAgIGRhdGUubW9udGggPSB0aGlzLnZpZXdNb2RlbC5tb250aDsKICAgICAgICBjb25zdCBtYXhEYXkgPSB0aGlzLmNhbGVuZGFyICE9PSAncGVyc2lhbicgPyBuZXcgRGF0ZShkYXRlLnllYXIsIGRhdGUubW9udGgsIDApLmdldERhdGUoKSA6IGphbGFhbGlNb250aExlbmd0aChkYXRlLnllYXIsIGRhdGUubW9udGgpOwogICAgICAgIGRhdGUuZGF5ID0gTWF0aC5taW4oTWF0aC5tYXgoMSwgZGF0ZS5kYXkpLCBtYXhEYXkpOwogICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5fX2VuY29kZUVudHJ5KGRhdGUpOwogICAgICAgIHRoaXMubGFzdEVtaXRWYWx1ZSA9IHZhbHVlOwogICAgICAgIGNvbnN0IHsKICAgICAgICAgIGRldGFpbHMKICAgICAgICB9ID0gdGhpcy5fX2dldEVtaXRQYXJhbXMoJycsIGRhdGUpOwogICAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgdmFsdWUsIHJlYXNvbiwgZGV0YWlscyk7CiAgICAgIH0pOwogICAgfSwKICAgIF9fZ2V0RW1pdFBhcmFtcyhhY3Rpb24sIGRhdGUpIHsKICAgICAgcmV0dXJuIGRhdGUuZnJvbSAhPT0gdm9pZCAwID8gewogICAgICAgIHJlYXNvbjogYCR7YWN0aW9ufS1yYW5nZWAsCiAgICAgICAgZGV0YWlsczogewogICAgICAgICAgLi4udGhpcy5fX2dldFNob3J0RGF0ZShkYXRlLnRhcmdldCksCiAgICAgICAgICBmcm9tOiB0aGlzLl9fZ2V0U2hvcnREYXRlKGRhdGUuZnJvbSksCiAgICAgICAgICB0bzogdGhpcy5fX2dldFNob3J0RGF0ZShkYXRlLnRvKSwKICAgICAgICAgIGNoYW5nZWQ6IHRydWUgLy8gVE9ETyByZW1vdmUgaW4gdjI7IGxlZ2FjeSBwdXJwb3NlcwogICAgICAgIH0KICAgICAgfSA6IHsKICAgICAgICByZWFzb246IGAke2FjdGlvbn0tZGF5YCwKICAgICAgICBkZXRhaWxzOiB7CiAgICAgICAgICAuLi50aGlzLl9fZ2V0U2hvcnREYXRlKGRhdGUpLAogICAgICAgICAgY2hhbmdlZDogdHJ1ZSAvLyBUT0RPIHJlbW92ZSBpbiB2MjsgbGVnYWN5IHB1cnBvc2VzCiAgICAgICAgfQogICAgICB9OwogICAgfSwKCiAgICBfX2VuY29kZUVudHJ5KGRhdGUsIG1hc2ssIGxvY2FsZSkgewogICAgICByZXR1cm4gZGF0ZS5mcm9tICE9PSB2b2lkIDAgPyB7CiAgICAgICAgZnJvbTogdGhpcy5lbmNvZGVPYmplY3RGbihkYXRlLmZyb20sIG1hc2ssIGxvY2FsZSksCiAgICAgICAgdG86IHRoaXMuZW5jb2RlT2JqZWN0Rm4oZGF0ZS50bywgbWFzaywgbG9jYWxlKQogICAgICB9IDogdGhpcy5lbmNvZGVPYmplY3RGbihkYXRlLCBtYXNrLCBsb2NhbGUpOwogICAgfSwKICAgIF9fYWRkVG9Nb2RlbChkYXRlKSB7CiAgICAgIGxldCB2YWx1ZTsKICAgICAgaWYgKHRoaXMubXVsdGlwbGUgPT09IHRydWUpIHsKICAgICAgICBpZiAoZGF0ZS5mcm9tICE9PSB2b2lkIDApIHsKICAgICAgICAgIC8vIHdlIGFsc28gbmVlZCB0byBmaWx0ZXIgb3V0IGludGVyc2VjdGlvbnMKCiAgICAgICAgICBjb25zdCBmcm9tSGFzaCA9IHRoaXMuX19nZXREYXlIYXNoKGRhdGUuZnJvbSk7CiAgICAgICAgICBjb25zdCB0b0hhc2ggPSB0aGlzLl9fZ2V0RGF5SGFzaChkYXRlLnRvKTsKICAgICAgICAgIGNvbnN0IGRheXMgPSB0aGlzLmRheXNNb2RlbC5maWx0ZXIoZGF5ID0+IGRheS5kYXRlSGFzaCA8IGZyb21IYXNoIHx8IGRheS5kYXRlSGFzaCA+IHRvSGFzaCk7CiAgICAgICAgICBjb25zdCByYW5nZXMgPSB0aGlzLnJhbmdlTW9kZWwuZmlsdGVyKCh7CiAgICAgICAgICAgIGZyb20sCiAgICAgICAgICAgIHRvCiAgICAgICAgICB9KSA9PiB0by5kYXRlSGFzaCA8IGZyb21IYXNoIHx8IGZyb20uZGF0ZUhhc2ggPiB0b0hhc2gpOwogICAgICAgICAgdmFsdWUgPSBkYXlzLmNvbmNhdChyYW5nZXMpLmNvbmNhdChkYXRlKS5tYXAoZW50cnkgPT4gdGhpcy5fX2VuY29kZUVudHJ5KGVudHJ5KSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnN0IG1vZGVsID0gdGhpcy5ub3JtYWxpemVkTW9kZWwuc2xpY2UoKTsKICAgICAgICAgIG1vZGVsLnB1c2godGhpcy5fX2VuY29kZUVudHJ5KGRhdGUpKTsKICAgICAgICAgIHZhbHVlID0gbW9kZWw7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHZhbHVlID0gdGhpcy5fX2VuY29kZUVudHJ5KGRhdGUpOwogICAgICB9CiAgICAgIHRoaXMuX19lbWl0VmFsdWUodmFsdWUsICdhZGQnLCBkYXRlKTsKICAgIH0sCiAgICBfX3JlbW92ZUZyb21Nb2RlbChkYXRlKSB7CiAgICAgIGlmICh0aGlzLm5vVW5zZXQgPT09IHRydWUpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgbGV0IG1vZGVsID0gbnVsbDsKICAgICAgaWYgKHRoaXMubXVsdGlwbGUgPT09IHRydWUgJiYgQXJyYXkuaXNBcnJheSh0aGlzLnZhbHVlKSA9PT0gdHJ1ZSkgewogICAgICAgIGNvbnN0IHZhbCA9IHRoaXMuX19lbmNvZGVFbnRyeShkYXRlKTsKICAgICAgICBpZiAoZGF0ZS5mcm9tICE9PSB2b2lkIDApIHsKICAgICAgICAgIG1vZGVsID0gdGhpcy52YWx1ZS5maWx0ZXIoZGF0ZSA9PiBkYXRlLmZyb20gIT09IHZvaWQgMCA/IGRhdGUuZnJvbSAhPT0gdmFsLmZyb20gJiYgZGF0ZS50byAhPT0gdmFsLnRvIDogdHJ1ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG1vZGVsID0gdGhpcy52YWx1ZS5maWx0ZXIoZGF0ZSA9PiBkYXRlICE9PSB2YWwpOwogICAgICAgIH0KICAgICAgICBpZiAobW9kZWwubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICBtb2RlbCA9IG51bGw7CiAgICAgICAgfQogICAgICB9CiAgICAgIHRoaXMuX19lbWl0VmFsdWUobW9kZWwsICdyZW1vdmUnLCBkYXRlKTsKICAgIH0sCiAgICBfX3VwZGF0ZVZhbHVlKG1hc2ssIGxvY2FsZSwgcmVhc29uKSB7CiAgICAgIGNvbnN0IG1vZGVsID0gdGhpcy5kYXlzTW9kZWwuY29uY2F0KHRoaXMucmFuZ2VNb2RlbCkubWFwKGVudHJ5ID0+IHRoaXMuX19lbmNvZGVFbnRyeShlbnRyeSwgbWFzaywgbG9jYWxlKSkuZmlsdGVyKGVudHJ5ID0+IHsKICAgICAgICByZXR1cm4gZW50cnkuZnJvbSAhPT0gdm9pZCAwID8gZW50cnkuZnJvbS5kYXRlSGFzaCAhPT0gbnVsbCAmJiBlbnRyeS50by5kYXRlSGFzaCAhPT0gbnVsbCA6IGVudHJ5LmRhdGVIYXNoICE9PSBudWxsOwogICAgICB9KTsKICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCAodGhpcy5tdWx0aXBsZSA9PT0gdHJ1ZSA/IG1vZGVsIDogbW9kZWxbMF0pIHx8IG51bGwsIHJlYXNvbik7CiAgICB9CiAgfSwKICByZW5kZXIoaCkgewogICAgY29uc3QgY29udGVudCA9IFtoKCdkaXYnLCB7CiAgICAgIHN0YXRpY0NsYXNzOiAncS1kYXRlX19jb250ZW50IGNvbCByZWxhdGl2ZS1wb3NpdGlvbicKICAgIH0sIFtoKCd0cmFuc2l0aW9uJywgewogICAgICBwcm9wczogewogICAgICAgIG5hbWU6ICdxLXRyYW5zaXRpb24tLWZhZGUnCiAgICAgIH0KICAgIH0sIFt0aGlzW2BfX2dldCR7dGhpcy52aWV3fVZpZXdgXShoKV0pXSldOwogICAgY29uc3QgZGVmID0gc2xvdCh0aGlzLCAnZGVmYXVsdCcpOwogICAgZGVmICE9PSB2b2lkIDAgJiYgY29udGVudC5wdXNoKGgoJ2RpdicsIHsKICAgICAgc3RhdGljQ2xhc3M6ICdxLWRhdGVfX2FjdGlvbnMnCiAgICB9LCBkZWYpKTsKICAgIGlmICh0aGlzLm5hbWUgIT09IHZvaWQgMCAmJiB0aGlzLmRpc2FibGUgIT09IHRydWUpIHsKICAgICAgdGhpcy5fX2luamVjdEZvcm1JbnB1dChjb250ZW50LCAncHVzaCcpOwogICAgfQogICAgcmV0dXJuIGgoJ2RpdicsIHsKICAgICAgY2xhc3M6IHRoaXMuY2xhc3NlcywKICAgICAgYXR0cnM6IHRoaXMuYXR0cnMsCiAgICAgIG9uOiB7CiAgICAgICAgLi4udGhpcy5xTGlzdGVuZXJzCiAgICAgIH0KICAgIH0sIFt0aGlzLl9fZ2V0SGVhZGVyKGgpLCBoKCdkaXYnLCB7CiAgICAgIHN0YXRpY0NsYXNzOiAncS1kYXRlX19tYWluIGNvbCBjb2x1bW4nLAogICAgICBhdHRyczogewogICAgICAgIHRhYmluZGV4OiAtMQogICAgICB9LAogICAgICByZWY6ICdibHVyVGFyZ2V0JwogICAgfSwgY29udGVudCldKTsKICB9Cn0pOw=="},{"version":3,"names":["Vue","QBtn","DateTimeMixin","slot","formatDate","__splitDate","getDateDiff","pad","jalaaliMonthLength","toGregorian","cache","isObject","yearsInterval","views","viewIsValid","v","includes","yearMonthValidator","test","lineStr","extend","name","mixins","props","multiple","Boolean","range","title","String","subtitle","mask","default","defaultYearMonth","type","validator","yearsInMonthView","events","Array","Function","eventColor","emitImmediately","options","navigationMinYearMonth","navigationMaxYearMonth","noUnset","firstDayOfWeek","Number","todayBtn","minimal","defaultView","data","innerMask","__getMask","innerLocale","__getLocale","viewModel","__getViewModel","year","direction","$q","lang","rtl","view","monthDirection","yearDirection","startYear","editRange","watch","value","lastEmitValue","month","__updateViewModel","$refs","blurTarget","$el","contains","document","activeElement","focus","$emit","computedMask","val","__updateValue","computedLocale","computed","classes","landscape","isDark","bordered","square","flat","disable","readonly","isImmediate","normalizedModel","isArray","daysModel","filter","date","map","__decodeString","dateHash","day","rangeModel","fn","from","to","getNativeDateFn","calendar","model","Date","gDate","gy","gm","gd","encodeObjectFn","__getDayHash","locale","hour","minute","second","millisecond","timezoneOffset","daysInModel","length","reduce","acc","headerTitle","init","daysShort","getDay","monthsShort","pluralDay","isNaN","valueOf","headerSubtitle","minSelectedModel","maxSelectedModel","concat","sort","a","b","dateArrow","iconSet","datetime","arrowLeft","arrowRight","reverse","computedFirstDayOfWeek","daysOfWeek","days","first","slice","daysInMonth","getDate","today","__getCurrentDate","evtColor","minNav","split","parseInt","maxNav","navBoundaries","prev","next","daysMap","forEach","entry","hash","__getMonthHash","push","rangeMap","hashFrom","hashTo","cur","rangeView","initHash","final","finalHash","fromHash","toHash","viewMonthHash","includeFrom","includeTo","selectionDaysMap","i","dayHash","eventDaysMap","viewDays","endDay","prevJM","prevJY","res","len","fill","index","event","in","Object","assign","selected","unelevated","color","computedColor","textColor","computedTextColor","rangeFrom","rangeTo","editRangeFrom","editRangeTo","left","afterDays","cls","attrs","methods","setToday","__addToModel","setCalendarTo","setView","offsetCalendar","descending","setEditingRange","__getDefaultViewModel","decoded","d","__getHeader","h","staticClass","class","headerClass","key","tabindex","computedTabindex","on","click","keyup","e","keyCode","icon","size","round","__getNavigation","label","dir","goTo","boundaries","dense","noCaps","__getCalendarView","months","__goToMonth","__goToYear","__onDayClick","mouseover","__onDayMouseover","__getMonthsView","currentYear","isDisabled","content","active","__setMonth","unshift","__getYearsView","start","stop","years","__setYear","offset","__emitImmediately","__toggleDate","monthHash","__removeFromModel","__getShortDate","dayIndex","dayProps","find","target","payload","newHash","$nextTick","__emitValue","action","reason","details","__getEmitParams","maxDay","Math","min","max","__encodeEntry","changed","ranges","render","def","__injectFormInput","qListeners","ref"],"sources":["/Users/dinaskominfo/kiken/Project/ReactNative/AbsensiOnlineMobile/client/node_modules/quasar/src/components/date/QDate.js"],"sourcesContent":["import Vue from 'vue'\n\nimport QBtn from '../btn/QBtn.js'\nimport DateTimeMixin from '../../mixins/datetime.js'\n\nimport { slot } from '../../utils/private/slot.js'\nimport { formatDate, __splitDate, getDateDiff } from '../../utils/date.js'\nimport { pad } from '../../utils/format.js'\nimport { jalaaliMonthLength, toGregorian } from '../../utils/private/date-persian.js'\nimport cache from '../../utils/private/cache.js'\nimport { isObject } from '../../utils/is.js'\n\nconst yearsInterval = 20\nconst views = [ 'Calendar', 'Years', 'Months' ]\nconst viewIsValid = v => views.includes(v)\nconst yearMonthValidator = v => /^-?[\\d]+\\/[0-1]\\d$/.test(v)\nconst lineStr = ' \\u2014 '\n\nexport default Vue.extend({\n  name: 'QDate',\n\n  mixins: [ DateTimeMixin ],\n\n  props: {\n    multiple: Boolean,\n    range: Boolean,\n\n    title: String,\n    subtitle: String,\n\n    mask: {\n      // this mask is forced\n      // when using persian calendar\n      default: 'YYYY/MM/DD'\n    },\n\n    defaultYearMonth: {\n      type: String,\n      validator: yearMonthValidator\n    },\n\n    yearsInMonthView: Boolean,\n\n    events: [ Array, Function ],\n    eventColor: [ String, Function ],\n\n    emitImmediately: Boolean,\n\n    options: [ Array, Function ],\n\n    navigationMinYearMonth: {\n      type: String,\n      validator: yearMonthValidator\n    },\n\n    navigationMaxYearMonth: {\n      type: String,\n      validator: yearMonthValidator\n    },\n\n    noUnset: Boolean,\n\n    firstDayOfWeek: [ String, Number ],\n    todayBtn: Boolean,\n    minimal: Boolean,\n    defaultView: {\n      type: String,\n      default: 'Calendar',\n      validator: viewIsValid\n    }\n  },\n\n  data () {\n    const\n      innerMask = this.__getMask(),\n      innerLocale = this.__getLocale(),\n      viewModel = this.__getViewModel(innerMask, innerLocale),\n      year = viewModel.year,\n      direction = this.$q.lang.rtl === true ? 'right' : 'left'\n\n    return {\n      view: this.defaultView,\n      monthDirection: direction,\n      yearDirection: direction,\n      startYear: year - (year % yearsInterval) - (year < 0 ? yearsInterval : 0),\n      editRange: void 0,\n      innerMask,\n      innerLocale,\n      viewModel // model of current calendar view\n    }\n  },\n\n  watch: {\n    value (v) {\n      if (this.lastEmitValue === v) {\n        this.lastEmitValue = 0\n      }\n      else {\n        const { year, month } = this.__getViewModel(this.innerMask, this.innerLocale)\n        this.__updateViewModel(year, month)\n      }\n    },\n\n    view () {\n      if (this.$refs.blurTarget !== void 0 && this.$el.contains(document.activeElement) === true) {\n        this.$refs.blurTarget.focus()\n      }\n    },\n\n    'viewModel.year' (year) {\n      this.$emit('navigation', { year, month: this.viewModel.month })\n    },\n\n    'viewModel.month' (month) {\n      this.$emit('navigation', { year: this.viewModel.year, month })\n    },\n\n    computedMask (val) {\n      this.__updateValue(val, this.innerLocale, 'mask')\n      this.innerMask = val\n    },\n\n    computedLocale (val) {\n      this.__updateValue(this.innerMask, val, 'locale')\n      this.innerLocale = val\n    }\n  },\n\n  computed: {\n    classes () {\n      const type = this.landscape === true ? 'landscape' : 'portrait'\n      return `q-date q-date--${type} q-date--${type}-${this.minimal === true ? 'minimal' : 'standard'}` +\n        (this.isDark === true ? ' q-date--dark q-dark' : '') +\n        (this.bordered === true ? ' q-date--bordered' : '') +\n        (this.square === true ? ' q-date--square no-border-radius' : '') +\n        (this.flat === true ? ' q-date--flat no-shadow' : '') +\n        (this.disable === true ? ' disabled' : (this.readonly === true ? ' q-date--readonly' : ''))\n    },\n\n    isImmediate () {\n      return this.emitImmediately === true &&\n        this.multiple !== true &&\n        this.range !== true\n    },\n\n    normalizedModel () {\n      return Array.isArray(this.value) === true\n        ? this.value\n        : (this.value !== null && this.value !== void 0 ? [ this.value ] : [])\n    },\n\n    daysModel () {\n      return this.normalizedModel\n        .filter(date => typeof date === 'string')\n        .map(date => this.__decodeString(date, this.innerMask, this.innerLocale))\n        .filter(date =>\n          date.dateHash !== null &&\n          date.day !== null &&\n          date.month !== null &&\n          date.year !== null\n        )\n    },\n\n    rangeModel () {\n      const fn = date => this.__decodeString(date, this.innerMask, this.innerLocale)\n      return this.normalizedModel\n        .filter(date => isObject(date) === true && date.from !== void 0 && date.to !== void 0)\n        .map(range => ({ from: fn(range.from), to: fn(range.to) }))\n        .filter(range => range.from.dateHash !== null && range.to.dateHash !== null && range.from.dateHash < range.to.dateHash)\n    },\n\n    getNativeDateFn () {\n      return this.calendar !== 'persian'\n        ? model => new Date(model.year, model.month - 1, model.day)\n        : model => {\n          const gDate = toGregorian(model.year, model.month, model.day)\n          return new Date(gDate.gy, gDate.gm - 1, gDate.gd)\n        }\n    },\n\n    encodeObjectFn () {\n      return this.calendar === 'persian'\n        ? this.__getDayHash\n        : (date, mask, locale) => formatDate(\n          new Date(\n            date.year,\n            date.month - 1,\n            date.day,\n            date.hour,\n            date.minute,\n            date.second,\n            date.millisecond\n          ),\n          mask === void 0 ? this.innerMask : mask,\n          locale === void 0 ? this.innerLocale : locale,\n          date.year,\n          date.timezoneOffset\n        )\n    },\n\n    daysInModel () {\n      return this.daysModel.length + this.rangeModel.reduce(\n        (acc, range) => acc + 1 + getDateDiff(\n          this.getNativeDateFn(range.to),\n          this.getNativeDateFn(range.from)\n        ),\n        0\n      )\n    },\n\n    headerTitle () {\n      if (this.title !== void 0 && this.title !== null && this.title.length > 0) {\n        return this.title\n      }\n\n      if (this.editRange !== void 0) {\n        const model = this.editRange.init\n        const date = this.getNativeDateFn(model)\n\n        return this.innerLocale.daysShort[ date.getDay() ] + ', ' +\n          this.innerLocale.monthsShort[ model.month - 1 ] + ' ' +\n          model.day + lineStr + '?'\n      }\n\n      if (this.daysInModel === 0) {\n        return lineStr\n      }\n\n      if (this.daysInModel > 1) {\n        return `${this.daysInModel} ${this.innerLocale.pluralDay}`\n      }\n\n      const model = this.daysModel[0]\n      const date = this.getNativeDateFn(model)\n\n      if (isNaN(date.valueOf()) === true) {\n        return lineStr\n      }\n\n      if (this.innerLocale.headerTitle !== void 0) {\n        return this.innerLocale.headerTitle(date, model)\n      }\n\n      return this.innerLocale.daysShort[ date.getDay() ] + ', ' +\n        this.innerLocale.monthsShort[ model.month - 1 ] + ' ' +\n        model.day\n    },\n\n    headerSubtitle () {\n      if (this.subtitle !== void 0 && this.subtitle !== null && this.subtitle.length > 0) {\n        return this.subtitle\n      }\n\n      if (this.daysInModel === 0) {\n        return lineStr\n      }\n\n      if (this.daysInModel > 1) {\n        const from = this.minSelectedModel\n        const to = this.maxSelectedModel\n        const month = this.innerLocale.monthsShort\n\n        return month[from.month - 1] + (\n          from.year !== to.year\n            ? ' ' + from.year + lineStr + month[to.month - 1] + ' '\n            : (\n              from.month !== to.month\n                ? lineStr + month[to.month - 1]\n                : ''\n            )\n        ) + ' ' + to.year\n      }\n\n      return this.daysModel[0].year\n    },\n\n    minSelectedModel () {\n      const model = this.daysModel.concat(this.rangeModel.map(range => range.from))\n        .sort((a, b) => a.year - b.year || a.month - b.month)\n\n      return model[0]\n    },\n\n    maxSelectedModel () {\n      const model = this.daysModel.concat(this.rangeModel.map(range => range.to))\n        .sort((a, b) => b.year - a.year || b.month - a.month)\n\n      return model[0]\n    },\n\n    dateArrow () {\n      const val = [ this.$q.iconSet.datetime.arrowLeft, this.$q.iconSet.datetime.arrowRight ]\n      return this.$q.lang.rtl === true ? val.reverse() : val\n    },\n\n    computedFirstDayOfWeek () {\n      return this.firstDayOfWeek !== void 0\n        ? Number(this.firstDayOfWeek)\n        : this.innerLocale.firstDayOfWeek\n    },\n\n    daysOfWeek () {\n      const\n        days = this.innerLocale.daysShort,\n        first = this.computedFirstDayOfWeek\n\n      return first > 0\n        ? days.slice(first, 7).concat(days.slice(0, first))\n        : days\n    },\n\n    daysInMonth () {\n      const date = this.viewModel\n      return this.calendar !== 'persian'\n        ? (new Date(date.year, date.month, 0)).getDate()\n        : jalaaliMonthLength(date.year, date.month)\n    },\n\n    today () {\n      return this.__getCurrentDate()\n    },\n\n    evtColor () {\n      return typeof this.eventColor === 'function'\n        ? this.eventColor\n        : () => this.eventColor\n    },\n\n    minNav () {\n      if (this.navigationMinYearMonth !== void 0) {\n        const data = this.navigationMinYearMonth.split('/')\n        return { year: parseInt(data[0], 10), month: parseInt(data[1], 10) }\n      }\n    },\n\n    maxNav () {\n      if (this.navigationMaxYearMonth !== void 0) {\n        const data = this.navigationMaxYearMonth.split('/')\n        return { year: parseInt(data[0], 10), month: parseInt(data[1], 10) }\n      }\n    },\n\n    navBoundaries () {\n      const data = {\n        month: { prev: true, next: true },\n        year: { prev: true, next: true }\n      }\n\n      if (this.minNav !== void 0 && this.minNav.year >= this.viewModel.year) {\n        data.year.prev = false\n        if (this.minNav.year === this.viewModel.year && this.minNav.month >= this.viewModel.month) {\n          data.month.prev = false\n        }\n      }\n\n      if (this.maxNav !== void 0 && this.maxNav.year <= this.viewModel.year) {\n        data.year.next = false\n        if (this.maxNav.year === this.viewModel.year && this.maxNav.month <= this.viewModel.month) {\n          data.month.next = false\n        }\n      }\n\n      return data\n    },\n\n    daysMap () {\n      const map = {}\n\n      this.daysModel.forEach(entry => {\n        const hash = this.__getMonthHash(entry)\n\n        if (map[hash] === void 0) {\n          map[hash] = []\n        }\n\n        map[hash].push(entry.day)\n      })\n\n      return map\n    },\n\n    rangeMap () {\n      const map = {}\n\n      this.rangeModel.forEach(entry => {\n        const hashFrom = this.__getMonthHash(entry.from)\n        const hashTo = this.__getMonthHash(entry.to)\n\n        if (map[hashFrom] === void 0) {\n          map[hashFrom] = []\n        }\n\n        map[hashFrom].push({\n          from: entry.from.day,\n          to: hashFrom === hashTo ? entry.to.day : void 0,\n          range: entry\n        })\n\n        if (hashFrom < hashTo) {\n          let hash\n          const { year, month } = entry.from\n          const cur = month < 12\n            ? { year, month: month + 1 }\n            : { year: year + 1, month: 1 }\n\n          while ((hash = this.__getMonthHash(cur)) <= hashTo) {\n            if (map[hash] === void 0) {\n              map[hash] = []\n            }\n\n            map[hash].push({\n              from: void 0,\n              to: hash === hashTo ? entry.to.day : void 0,\n              range: entry\n            })\n\n            cur.month++\n            if (cur.month > 12) {\n              cur.year++\n              cur.month = 1\n            }\n          }\n        }\n      })\n\n      return map\n    },\n\n    rangeView () {\n      if (this.editRange === void 0) {\n        return\n      }\n\n      const { init, initHash, final, finalHash } = this.editRange\n\n      const [ from, to ] = initHash <= finalHash\n        ? [ init, final ]\n        : [ final, init ]\n\n      const fromHash = this.__getMonthHash(from)\n      const toHash = this.__getMonthHash(to)\n\n      if (fromHash !== this.viewMonthHash && toHash !== this.viewMonthHash) {\n        return\n      }\n\n      const view = {}\n\n      if (fromHash === this.viewMonthHash) {\n        view.from = from.day\n        view.includeFrom = true\n      }\n      else {\n        view.from = 1\n      }\n\n      if (toHash === this.viewMonthHash) {\n        view.to = to.day\n        view.includeTo = true\n      }\n      else {\n        view.to = this.daysInMonth\n      }\n\n      return view\n    },\n\n    viewMonthHash () {\n      return this.__getMonthHash(this.viewModel)\n    },\n\n    selectionDaysMap () {\n      const map = {}\n\n      if (this.options === void 0) {\n        for (let i = 1; i <= this.daysInMonth; i++) {\n          map[i] = true\n        }\n\n        return map\n      }\n\n      const fn = typeof this.options === 'function'\n        ? this.options\n        : date => this.options.includes(date)\n\n      for (let i = 1; i <= this.daysInMonth; i++) {\n        const dayHash = this.viewMonthHash + '/' + pad(i)\n        map[i] = fn(dayHash)\n      }\n\n      return map\n    },\n\n    eventDaysMap () {\n      const map = {}\n\n      if (this.events === void 0) {\n        for (let i = 1; i <= this.daysInMonth; i++) {\n          map[i] = false\n        }\n      }\n      else {\n        const fn = typeof this.events === 'function'\n          ? this.events\n          : date => this.events.includes(date)\n\n        for (let i = 1; i <= this.daysInMonth; i++) {\n          const dayHash = this.viewMonthHash + '/' + pad(i)\n          map[i] = fn(dayHash) === true && this.evtColor(dayHash)\n        }\n      }\n\n      return map\n    },\n\n    viewDays () {\n      let date, endDay\n      const { year, month } = this.viewModel\n\n      if (this.calendar !== 'persian') {\n        date = new Date(year, month - 1, 1)\n        endDay = (new Date(year, month - 1, 0)).getDate()\n      }\n      else {\n        const gDate = toGregorian(year, month, 1)\n        date = new Date(gDate.gy, gDate.gm - 1, gDate.gd)\n        let prevJM = month - 1\n        let prevJY = year\n        if (prevJM === 0) {\n          prevJM = 12\n          prevJY--\n        }\n        endDay = jalaaliMonthLength(prevJY, prevJM)\n      }\n\n      return {\n        days: date.getDay() - this.computedFirstDayOfWeek - 1,\n        endDay\n      }\n    },\n\n    days () {\n      const res = []\n      const { days, endDay } = this.viewDays\n\n      const len = days < 0 ? days + 7 : days\n      if (len < 6) {\n        for (let i = endDay - len; i <= endDay; i++) {\n          res.push({ i, fill: true })\n        }\n      }\n\n      const index = res.length\n\n      for (let i = 1; i <= this.daysInMonth; i++) {\n        const day = { i, event: this.eventDaysMap[i], classes: [] }\n\n        if (this.selectionDaysMap[i] === true) {\n          day.in = true\n          day.flat = true\n        }\n\n        res.push(day)\n      }\n\n      // if current view has days in model\n      if (this.daysMap[this.viewMonthHash] !== void 0) {\n        this.daysMap[this.viewMonthHash].forEach(day => {\n          const i = index + day - 1\n          Object.assign(res[i], {\n            selected: true,\n            unelevated: true,\n            flat: false,\n            color: this.computedColor,\n            textColor: this.computedTextColor\n          })\n        })\n      }\n\n      // if current view has ranges in model\n      if (this.rangeMap[this.viewMonthHash] !== void 0) {\n        this.rangeMap[this.viewMonthHash].forEach(entry => {\n          if (entry.from !== void 0) {\n            const from = index + entry.from - 1\n            const to = index + (entry.to || this.daysInMonth) - 1\n\n            for (let day = from; day <= to; day++) {\n              Object.assign(res[day], {\n                range: entry.range,\n                unelevated: true,\n                color: this.computedColor,\n                textColor: this.computedTextColor\n              })\n            }\n\n            Object.assign(res[from], {\n              rangeFrom: true,\n              flat: false\n            })\n\n            entry.to !== void 0 && Object.assign(res[to], {\n              rangeTo: true,\n              flat: false\n            })\n          }\n          else if (entry.to !== void 0) {\n            const to = index + entry.to - 1\n\n            for (let day = index; day <= to; day++) {\n              Object.assign(res[day], {\n                range: entry.range,\n                unelevated: true,\n                color: this.computedColor,\n                textColor: this.computedTextColor\n              })\n            }\n\n            Object.assign(res[to], {\n              flat: false,\n              rangeTo: true\n            })\n          }\n          else {\n            const to = index + this.daysInMonth - 1\n            for (let day = index; day <= to; day++) {\n              Object.assign(res[day], {\n                range: entry.range,\n                unelevated: true,\n                color: this.computedColor,\n                textColor: this.computedTextColor\n              })\n            }\n          }\n        })\n      }\n\n      if (this.rangeView !== void 0) {\n        const from = index + this.rangeView.from - 1\n        const to = index + this.rangeView.to - 1\n\n        for (let day = from; day <= to; day++) {\n          res[day].color = this.computedColor\n          res[day].editRange = true\n        }\n\n        if (this.rangeView.includeFrom === true) {\n          res[from].editRangeFrom = true\n        }\n        if (this.rangeView.includeTo === true) {\n          res[to].editRangeTo = true\n        }\n      }\n\n      if (this.viewModel.year === this.today.year && this.viewModel.month === this.today.month) {\n        res[index + this.today.day - 1].today = true\n      }\n\n      const left = res.length % 7\n      if (left > 0) {\n        const afterDays = 7 - left\n        for (let i = 1; i <= afterDays; i++) {\n          res.push({ i, fill: true })\n        }\n      }\n\n      res.forEach(day => {\n        let cls = 'q-date__calendar-item '\n\n        if (day.fill === true) {\n          cls += 'q-date__calendar-item--fill'\n        }\n        else {\n          cls += `q-date__calendar-item--${day.in === true ? 'in' : 'out'}`\n\n          if (day.range !== void 0) {\n            cls += ` q-date__range${day.rangeTo === true ? '-to' : (day.rangeFrom === true ? '-from' : '')}`\n          }\n\n          if (day.editRange === true) {\n            cls += ` q-date__edit-range${day.editRangeFrom === true ? '-from' : ''}${day.editRangeTo === true ? '-to' : ''}`\n          }\n\n          if (day.range !== void 0 || day.editRange === true) {\n            cls += ` text-${day.color}`\n          }\n        }\n\n        day.classes = cls\n      })\n\n      return res\n    },\n\n    attrs () {\n      if (this.disable === true) {\n        return { 'aria-disabled': 'true' }\n      }\n      if (this.readonly === true) {\n        return { 'aria-readonly': 'true' }\n      }\n    }\n  },\n\n  methods: {\n    setToday () {\n      const date = this.today\n      const month = this.daysMap[this.__getMonthHash(date)]\n\n      if (month === void 0 || month.includes(date.day) === false) {\n        this.__addToModel(date)\n      }\n\n      this.setCalendarTo(this.today.year, this.today.month)\n    },\n\n    setView (view) {\n      if (viewIsValid(view) === true) {\n        this.view = view\n      }\n    },\n\n    offsetCalendar (type, descending) {\n      if (['month', 'year'].includes(type)) {\n        this[`__goTo${type === 'month' ? 'Month' : 'Year'}`](\n          descending === true ? -1 : 1\n        )\n      }\n    },\n\n    setCalendarTo (year, month) {\n      this.view = 'Calendar'\n      this.__updateViewModel(year, month)\n    },\n\n    setEditingRange (from, to) {\n      if (this.range === false || !from) {\n        this.editRange = void 0\n        return\n      }\n\n      const init = Object.assign({ ...this.viewModel }, from)\n      const final = to !== void 0\n        ? Object.assign({ ...this.viewModel }, to)\n        : init\n\n      this.editRange = {\n        init,\n        initHash: this.__getDayHash(init),\n        final,\n        finalHash: this.__getDayHash(final)\n      }\n\n      this.setCalendarTo(init.year, init.month)\n    },\n\n    __getMask () {\n      return this.calendar === 'persian' ? 'YYYY/MM/DD' : this.mask\n    },\n\n    __decodeString (date, mask, locale) {\n      return __splitDate(\n        date,\n        mask,\n        locale,\n        this.calendar,\n        {\n          hour: 0,\n          minute: 0,\n          second: 0,\n          millisecond: 0\n        }\n      )\n    },\n\n    __getViewModel (mask, locale) {\n      const model = Array.isArray(this.value) === true\n        ? this.value\n        : (this.value ? [ this.value ] : [])\n\n      if (model.length === 0) {\n        return this.__getDefaultViewModel()\n      }\n\n      const decoded = this.__decodeString(\n        model[0].from !== void 0 ? model[0].from : model[0],\n        mask,\n        locale\n      )\n\n      return decoded.dateHash === null\n        ? this.__getDefaultViewModel()\n        : decoded\n    },\n\n    __getDefaultViewModel () {\n      let year, month\n\n      if (this.defaultYearMonth !== void 0) {\n        const d = this.defaultYearMonth.split('/')\n        year = parseInt(d[0], 10)\n        month = parseInt(d[1], 10)\n      }\n      else {\n        // may come from data() where computed\n        // props are not yet available\n        const d = this.today !== void 0\n          ? this.today\n          : this.__getCurrentDate()\n\n        year = d.year\n        month = d.month\n      }\n\n      return {\n        year,\n        month,\n        day: 1,\n        hour: 0,\n        minute: 0,\n        second: 0,\n        millisecond: 0,\n        dateHash: year + '/' + pad(month) + '/01'\n      }\n    },\n\n    __getHeader (h) {\n      if (this.minimal === true) { return }\n\n      return h('div', {\n        staticClass: 'q-date__header',\n        class: this.headerClass\n      }, [\n        h('div', {\n          staticClass: 'relative-position'\n        }, [\n          h('transition', {\n            props: {\n              name: 'q-transition--fade'\n            }\n          }, [\n            h('div', {\n              key: 'h-yr-' + this.headerSubtitle,\n              staticClass: 'q-date__header-subtitle q-date__header-link',\n              class: this.view === 'Years' ? 'q-date__header-link--active' : 'cursor-pointer',\n              attrs: { tabindex: this.computedTabindex },\n              on: cache(this, 'vY', {\n                click: () => { this.view = 'Years' },\n                keyup: e => { e.keyCode === 13 && (this.view = 'Years') }\n              })\n            }, [ this.headerSubtitle ])\n          ])\n        ]),\n\n        h('div', {\n          staticClass: 'q-date__header-title relative-position flex no-wrap'\n        }, [\n          h('div', {\n            staticClass: 'relative-position col'\n          }, [\n            h('transition', {\n              props: {\n                name: 'q-transition--fade'\n              }\n            }, [\n              h('div', {\n                key: 'h-sub' + this.headerTitle,\n                staticClass: 'q-date__header-title-label q-date__header-link',\n                class: this.view === 'Calendar' ? 'q-date__header-link--active' : 'cursor-pointer',\n                attrs: { tabindex: this.computedTabindex },\n                on: cache(this, 'vC', {\n                  click: () => { this.view = 'Calendar' },\n                  keyup: e => { e.keyCode === 13 && (this.view = 'Calendar') }\n                })\n              }, [ this.headerTitle ])\n            ])\n          ]),\n\n          this.todayBtn === true ? h(QBtn, {\n            staticClass: 'q-date__header-today self-start',\n            props: {\n              icon: this.$q.iconSet.datetime.today,\n              flat: true,\n              size: 'sm',\n              round: true,\n              tabindex: this.computedTabindex\n            },\n            on: cache(this, 'today', { click: this.setToday })\n          }) : null\n        ])\n      ])\n    },\n\n    __getNavigation (h, { label, view, key, dir, goTo, boundaries, cls }) {\n      return [\n        h('div', {\n          staticClass: 'row items-center q-date__arrow'\n        }, [\n          h(QBtn, {\n            props: {\n              round: true,\n              dense: true,\n              size: 'sm',\n              flat: true,\n              icon: this.dateArrow[0],\n              tabindex: this.computedTabindex,\n              disable: boundaries.prev === false\n            },\n            on: cache(this, 'go-#' + view, { click () { goTo(-1) } })\n          })\n        ]),\n\n        h('div', {\n          staticClass: 'relative-position overflow-hidden flex flex-center' + cls\n        }, [\n          h('transition', {\n            props: {\n              name: 'q-transition--jump-' + dir\n            }\n          }, [\n            h('div', { key }, [\n              h(QBtn, {\n                props: {\n                  flat: true,\n                  dense: true,\n                  noCaps: true,\n                  label,\n                  tabindex: this.computedTabindex\n                },\n                on: cache(this, 'view#' + view, { click: () => { this.view = view } })\n              })\n            ])\n          ])\n        ]),\n\n        h('div', {\n          staticClass: 'row items-center q-date__arrow'\n        }, [\n          h(QBtn, {\n            props: {\n              round: true,\n              dense: true,\n              size: 'sm',\n              flat: true,\n              icon: this.dateArrow[1],\n              tabindex: this.computedTabindex,\n              disable: boundaries.next === false\n            },\n            on: cache(this, 'go+#' + view, { click () { goTo(1) } })\n          })\n        ])\n      ]\n    },\n\n    __getCalendarView (h) {\n      return [\n        h('div', {\n          key: 'calendar-view',\n          staticClass: 'q-date__view q-date__calendar'\n        }, [\n          h('div', {\n            staticClass: 'q-date__navigation row items-center no-wrap'\n          }, this.__getNavigation(h, {\n            label: this.innerLocale.months[ this.viewModel.month - 1 ],\n            view: 'Months',\n            key: this.viewModel.month,\n            dir: this.monthDirection,\n            goTo: this.__goToMonth,\n            boundaries: this.navBoundaries.month,\n            cls: ' col'\n          }).concat(this.__getNavigation(h, {\n            label: this.viewModel.year,\n            view: 'Years',\n            key: this.viewModel.year,\n            dir: this.yearDirection,\n            goTo: this.__goToYear,\n            boundaries: this.navBoundaries.year,\n            cls: ''\n          }))),\n\n          h('div', {\n            staticClass: 'q-date__calendar-weekdays row items-center no-wrap'\n          }, this.daysOfWeek.map(day => h('div', { staticClass: 'q-date__calendar-item' }, [ h('div', [ day ]) ]))),\n\n          h('div', {\n            staticClass: 'q-date__calendar-days-container relative-position overflow-hidden'\n          }, [\n            h('transition', {\n              props: {\n                name: 'q-transition--slide-' + this.monthDirection\n              }\n            }, [\n              h('div', {\n                key: this.viewMonthHash,\n                staticClass: 'q-date__calendar-days fit'\n              }, this.days.map(day => h('div', { staticClass: day.classes }, [\n                day.in === true\n                  ? h(QBtn, {\n                    staticClass: day.today === true ? 'q-date__today' : null,\n                    props: {\n                      dense: true,\n                      flat: day.flat,\n                      unelevated: day.unelevated,\n                      color: day.color,\n                      textColor: day.textColor,\n                      label: day.i,\n                      tabindex: this.computedTabindex\n                    },\n                    on: cache(this, 'day#' + day.i, {\n                      click: () => { this.__onDayClick(day.i) },\n                      mouseover: () => { this.__onDayMouseover(day.i) }\n                    })\n                  }, day.event !== false ? [\n                    h('div', { staticClass: 'q-date__event bg-' + day.event })\n                  ] : null)\n                  : h('div', [ day.i ])\n              ])))\n            ])\n          ])\n        ])\n      ]\n    },\n\n    __getMonthsView (h) {\n      const currentYear = this.viewModel.year === this.today.year\n      const isDisabled = month => {\n        return (\n          (this.minNav !== void 0 && this.viewModel.year === this.minNav.year && this.minNav.month > month) ||\n          (this.maxNav !== void 0 && this.viewModel.year === this.maxNav.year && this.maxNav.month < month)\n        )\n      }\n\n      const content = this.innerLocale.monthsShort.map((month, i) => {\n        const active = this.viewModel.month === i + 1\n\n        return h('div', {\n          staticClass: 'q-date__months-item flex flex-center'\n        }, [\n          h(QBtn, {\n            staticClass: currentYear === true && this.today.month === i + 1 ? 'q-date__today' : null,\n            props: {\n              flat: active !== true,\n              label: month,\n              unelevated: active,\n              color: active === true ? this.computedColor : null,\n              textColor: active === true ? this.computedTextColor : null,\n              tabindex: this.computedTabindex,\n              disable: isDisabled(i + 1)\n            },\n            on: cache(this, 'month#' + i, { click: () => { this.__setMonth(i + 1) } })\n          })\n        ])\n      })\n\n      this.yearsInMonthView === true && content.unshift(\n        h('div', { staticClass: 'row no-wrap full-width' }, [\n          this.__getNavigation(h, {\n            label: this.viewModel.year,\n            view: 'Years',\n            key: this.viewModel.year,\n            dir: this.yearDirection,\n            goTo: this.__goToYear,\n            boundaries: this.navBoundaries.year,\n            cls: ' col'\n          })\n        ])\n      )\n\n      return h('div', {\n        key: 'months-view',\n        staticClass: 'q-date__view q-date__months flex flex-center'\n      }, content)\n    },\n\n    __getYearsView (h) {\n      const\n        start = this.startYear,\n        stop = start + yearsInterval,\n        years = []\n\n      const isDisabled = year => {\n        return (\n          (this.minNav !== void 0 && this.minNav.year > year) ||\n          (this.maxNav !== void 0 && this.maxNav.year < year)\n        )\n      }\n\n      for (let i = start; i <= stop; i++) {\n        const active = this.viewModel.year === i\n\n        years.push(\n          h('div', {\n            staticClass: 'q-date__years-item flex flex-center'\n          }, [\n            h(QBtn, {\n              key: 'yr' + i,\n              staticClass: this.today.year === i ? 'q-date__today' : null,\n              props: {\n                flat: !active,\n                label: i,\n                dense: true,\n                unelevated: active,\n                color: active === true ? this.computedColor : null,\n                textColor: active === true ? this.computedTextColor : null,\n                tabindex: this.computedTabindex,\n                disable: isDisabled(i)\n              },\n              on: cache(this, 'yr#' + i, { click: () => { this.__setYear(i) } })\n            })\n          ])\n        )\n      }\n\n      return h('div', {\n        staticClass: 'q-date__view q-date__years flex flex-center'\n      }, [\n        h('div', {\n          staticClass: 'col-auto'\n        }, [\n          h(QBtn, {\n            props: {\n              round: true,\n              dense: true,\n              flat: true,\n              icon: this.dateArrow[0],\n              tabindex: this.computedTabindex,\n              disable: isDisabled(start)\n            },\n            on: cache(this, 'y-', { click: () => { this.startYear -= yearsInterval } })\n          })\n        ]),\n\n        h('div', {\n          staticClass: 'q-date__years-content col self-stretch row items-center'\n        }, years),\n\n        h('div', {\n          staticClass: 'col-auto'\n        }, [\n          h(QBtn, {\n            props: {\n              round: true,\n              dense: true,\n              flat: true,\n              icon: this.dateArrow[1],\n              tabindex: this.computedTabindex,\n              disable: isDisabled(stop)\n            },\n            on: cache(this, 'y+', { click: () => { this.startYear += yearsInterval } })\n          })\n        ])\n      ])\n    },\n\n    __goToMonth (offset) {\n      let year = this.viewModel.year\n      let month = Number(this.viewModel.month) + offset\n\n      if (month === 13) {\n        month = 1\n        year++\n      }\n      else if (month === 0) {\n        month = 12\n        year--\n      }\n\n      this.__updateViewModel(year, month)\n      this.isImmediate === true && this.__emitImmediately('month')\n    },\n\n    __goToYear (offset) {\n      const year = Number(this.viewModel.year) + offset\n      this.__updateViewModel(year, this.viewModel.month)\n      this.isImmediate === true && this.__emitImmediately('year')\n    },\n\n    __setYear (year) {\n      this.__updateViewModel(year, this.viewModel.month)\n      this.view = this.defaultView === 'Years' ? 'Months' : 'Calendar'\n      this.isImmediate === true && this.__emitImmediately('year')\n    },\n\n    __setMonth (month) {\n      this.__updateViewModel(this.viewModel.year, month)\n      this.view = 'Calendar'\n      this.isImmediate === true && this.__emitImmediately('month')\n    },\n\n    __getMonthHash (date) {\n      return date.year + '/' + pad(date.month)\n    },\n\n    __toggleDate (date, monthHash) {\n      const month = this.daysMap[monthHash]\n      const fn = month !== void 0 && month.includes(date.day) === true\n        ? this.__removeFromModel\n        : this.__addToModel\n\n      fn(date)\n    },\n\n    __getShortDate (date) {\n      return { year: date.year, month: date.month, day: date.day }\n    },\n\n    __onDayClick (dayIndex) {\n      const day = { ...this.viewModel, day: dayIndex }\n\n      if (this.range === false) {\n        this.__toggleDate(day, this.viewMonthHash)\n        return\n      }\n\n      if (this.editRange === void 0) {\n        const dayProps = this.days.find(day => day.fill !== true && day.i === dayIndex)\n\n        if (dayProps.range !== void 0) {\n          this.__removeFromModel({ target: day, from: dayProps.range.from, to: dayProps.range.to })\n          return\n        }\n\n        if (dayProps.selected === true) {\n          this.__removeFromModel(day)\n          return\n        }\n\n        const initHash = this.__getDayHash(day)\n\n        this.editRange = {\n          init: day,\n          initHash,\n          final: day,\n          finalHash: initHash\n        }\n\n        this.$emit('range-start', this.__getShortDate(day))\n      }\n      else {\n        const\n          initHash = this.editRange.initHash,\n          finalHash = this.__getDayHash(day),\n          payload = initHash <= finalHash\n            ? { from: this.editRange.init, to: day }\n            : { from: day, to: this.editRange.init }\n\n        this.editRange = void 0\n        this.__addToModel(initHash === finalHash ? day : { target: day, ...payload })\n\n        this.$emit('range-end', {\n          from: this.__getShortDate(payload.from),\n          to: this.__getShortDate(payload.to)\n        })\n      }\n    },\n\n    __onDayMouseover (dayIndex) {\n      if (this.editRange !== void 0) {\n        const final = { ...this.viewModel, day: dayIndex }\n\n        Object.assign(this.editRange, {\n          final,\n          finalHash: this.__getDayHash(final)\n        })\n      }\n    },\n\n    __updateViewModel (year, month) {\n      if (this.minNav !== void 0 && year <= this.minNav.year) {\n        year = this.minNav.year\n        if (month < this.minNav.month) {\n          month = this.minNav.month\n        }\n      }\n\n      if (this.maxNav !== void 0 && year >= this.maxNav.year) {\n        year = this.maxNav.year\n        if (month > this.maxNav.month) {\n          month = this.maxNav.month\n        }\n      }\n\n      const newHash = year + '/' + pad(month) + '/01'\n\n      if (newHash !== this.viewModel.dateHash) {\n        this.monthDirection = (this.viewModel.dateHash < newHash) === (this.$q.lang.rtl !== true) ? 'left' : 'right'\n        if (year !== this.viewModel.year) {\n          this.yearDirection = this.monthDirection\n        }\n\n        this.$nextTick(() => {\n          this.startYear = year - year % yearsInterval - (year < 0 ? yearsInterval : 0)\n          Object.assign(this.viewModel, {\n            year,\n            month,\n            day: 1,\n            dateHash: newHash\n          })\n        })\n      }\n    },\n\n    __emitValue (val, action, date) {\n      const value = val !== null && val.length === 1 && this.multiple === false\n        ? val[0]\n        : val\n\n      this.lastEmitValue = value\n\n      const { reason, details } = this.__getEmitParams(action, date)\n      this.$emit('input', value, reason, details)\n    },\n\n    __emitImmediately (reason) {\n      const date = this.daysModel[0] !== void 0 && this.daysModel[0].dateHash !== null\n        ? { ...this.daysModel[0] }\n        : { ...this.viewModel } // inherit day, hours, minutes, milliseconds...\n\n      // nextTick required because of animation delay in viewModel\n      this.$nextTick(() => {\n        date.year = this.viewModel.year\n        date.month = this.viewModel.month\n\n        const maxDay = this.calendar !== 'persian'\n          ? (new Date(date.year, date.month, 0)).getDate()\n          : jalaaliMonthLength(date.year, date.month)\n\n        date.day = Math.min(Math.max(1, date.day), maxDay)\n\n        const value = this.__encodeEntry(date)\n        this.lastEmitValue = value\n\n        const { details } = this.__getEmitParams('', date)\n        this.$emit('input', value, reason, details)\n      })\n    },\n\n    __getEmitParams (action, date) {\n      return date.from !== void 0\n        ? {\n          reason: `${action}-range`,\n          details: {\n            ...this.__getShortDate(date.target),\n            from: this.__getShortDate(date.from),\n            to: this.__getShortDate(date.to),\n            changed: true // TODO remove in v2; legacy purposes\n          }\n        }\n        : {\n          reason: `${action}-day`,\n          details: {\n            ...this.__getShortDate(date),\n            changed: true // TODO remove in v2; legacy purposes\n          }\n        }\n    },\n\n    __encodeEntry (date, mask, locale) {\n      return date.from !== void 0\n        ? { from: this.encodeObjectFn(date.from, mask, locale), to: this.encodeObjectFn(date.to, mask, locale) }\n        : this.encodeObjectFn(date, mask, locale)\n    },\n\n    __addToModel (date) {\n      let value\n\n      if (this.multiple === true) {\n        if (date.from !== void 0) {\n          // we also need to filter out intersections\n\n          const fromHash = this.__getDayHash(date.from)\n          const toHash = this.__getDayHash(date.to)\n\n          const days = this.daysModel\n            .filter(day => day.dateHash < fromHash || day.dateHash > toHash)\n\n          const ranges = this.rangeModel\n            .filter(({ from, to }) => to.dateHash < fromHash || from.dateHash > toHash)\n\n          value = days.concat(ranges).concat(date).map(entry => this.__encodeEntry(entry))\n        }\n        else {\n          const model = this.normalizedModel.slice()\n          model.push(this.__encodeEntry(date))\n          value = model\n        }\n      }\n      else {\n        value = this.__encodeEntry(date)\n      }\n\n      this.__emitValue(value, 'add', date)\n    },\n\n    __removeFromModel (date) {\n      if (this.noUnset === true) {\n        return\n      }\n\n      let model = null\n\n      if (this.multiple === true && Array.isArray(this.value) === true) {\n        const val = this.__encodeEntry(date)\n\n        if (date.from !== void 0) {\n          model = this.value.filter(\n            date => date.from !== void 0\n              ? (date.from !== val.from && date.to !== val.to)\n              : true\n          )\n        }\n        else {\n          model = this.value.filter(date => date !== val)\n        }\n\n        if (model.length === 0) {\n          model = null\n        }\n      }\n\n      this.__emitValue(model, 'remove', date)\n    },\n\n    __updateValue (mask, locale, reason) {\n      const model = this.daysModel\n        .concat(this.rangeModel)\n        .map(entry => this.__encodeEntry(entry, mask, locale))\n        .filter(entry => {\n          return entry.from !== void 0\n            ? entry.from.dateHash !== null && entry.to.dateHash !== null\n            : entry.dateHash !== null\n        })\n\n      this.$emit('input', (this.multiple === true ? model : model[0]) || null, reason)\n    }\n  },\n\n  render (h) {\n    const content = [\n      h('div', {\n        staticClass: 'q-date__content col relative-position'\n      }, [\n        h('transition', {\n          props: { name: 'q-transition--fade' }\n        }, [\n          this[`__get${this.view}View`](h)\n        ])\n      ])\n    ]\n\n    const def = slot(this, 'default')\n    def !== void 0 && content.push(\n      h('div', { staticClass: 'q-date__actions' }, def)\n    )\n\n    if (this.name !== void 0 && this.disable !== true) {\n      this.__injectFormInput(content, 'push')\n    }\n\n    return h('div', {\n      class: this.classes,\n      attrs: this.attrs,\n      on: { ...this.qListeners }\n    }, [\n      this.__getHeader(h),\n\n      h('div', {\n        staticClass: 'q-date__main col column',\n        attrs: { tabindex: -1 },\n        ref: 'blurTarget'\n      }, content)\n    ])\n  }\n})\n"],"mappings":"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"}]}